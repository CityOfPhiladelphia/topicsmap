(function(t){function e(e){for(var a,n,s=e[0],c=e[1],l=e[2],p=0,u=[];p<s.length;p++)n=s[p],o[n]&&u.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);m&&m(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,n=1;n<i.length;n++){var s=i[n];0!==o[s]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=i[0]))}return t}var a={},n={app:0},o={app:0},r=[];function s(t){return c.p+"js/"+({"htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm":"htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm",htg_pvc_HorizontalTable:"htg_pvc_HorizontalTable",tcg_pvc_HorizontalTable:"tcg_pvc_HorizontalTable",tcg_pvc_ePayForm:"tcg_pvc_ePayForm",lbmp_pvm_BasemapTooltip:"lbmp_pvm_BasemapTooltip",lbmp_pvm_CircleMarker:"lbmp_pvm_CircleMarker",lbmp_pvm_CyclomediaRecordingCircle:"lbmp_pvm_CyclomediaRecordingCircle",lbmp_pvm_CyclomediaSvgViewConeMarker:"lbmp_pvm_CyclomediaSvgViewConeMarker","lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63":"lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63",lbmp_pvm_EsriDynamicMapLayer:"lbmp_pvm_EsriDynamicMapLayer",lbmp_pvm_EsriFeatureLayer:"lbmp_pvm_EsriFeatureLayer",lbmp_pvm_EsriTiledMapLayer:"lbmp_pvm_EsriTiledMapLayer",lbmp_pvm_EsriTiledOverlay:"lbmp_pvm_EsriTiledOverlay",lbmp_pvm_Geojson:"lbmp_pvm_Geojson",lbmp_pvm_MapAddressCandidateList:"lbmp_pvm_MapAddressCandidateList",lbmp_pvm_ModalAbout:"lbmp_pvm_ModalAbout",lbmp_pvm_PngMarker:"lbmp_pvm_PngMarker",lbmp_pvm_Polygon_:"lbmp_pvm_Polygon_",lbmp_pvm_Polyline_:"lbmp_pvm_Polyline_",lbmp_pvm_VectorMarker:"lbmp_pvm_VectorMarker",mbmb_pvm_CyclomediaWidget:"mbmb_pvm_CyclomediaWidget",mbmb_pvm_PictometryLayer:"mbmb_pvm_PictometryLayer",mbmb_pvm_PictometryPngMarker:"mbmb_pvm_PictometryPngMarker",mbmb_pvm_PictometryViewCone:"mbmb_pvm_PictometryViewCone",mbmb_pvm_PictometryWidget:"mbmb_pvm_PictometryWidget",pvc_ExternalLink:"pvc_ExternalLink",tcg_pvc_AnyHeader:"tcg_pvc_AnyHeader",tcg_pvc_Badge:"tcg_pvc_Badge",tcg_pvc_BadgeCustom:"tcg_pvc_BadgeCustom",tcg_pvc_ButtonComp:"tcg_pvc_ButtonComp",tcg_pvc_Callout:"tcg_pvc_Callout",tcg_pvc_CheckboxSet:"tcg_pvc_CheckboxSet",tcg_pvc_CollectionSummary:"tcg_pvc_CollectionSummary",tcg_pvc_Division:"tcg_pvc_Division",tcg_pvc_HorizontalTableGroup:"tcg_pvc_HorizontalTableGroup",tcg_pvc_Image:"tcg_pvc_Image",tcg_pvc_List:"tcg_pvc_List",tcg_pvc_OverlayToggleGroup:"tcg_pvc_OverlayToggleGroup",tcg_pvc_Paragraph:"tcg_pvc_Paragraph",tcg_pvc_Popover:"tcg_pvc_Popover",tcg_pvc_PopoverLink:"tcg_pvc_PopoverLink",tcg_pvc_SpanComp:"tcg_pvc_SpanComp",tcg_pvc_TabGroup:"tcg_pvc_TabGroup",tcg_pvc_TopicSet:"tcg_pvc_TopicSet",tcg_pvc_VerticalTable:"tcg_pvc_VerticalTable",ht_pvc_HorizontalTableRow:"ht_pvc_HorizontalTableRow"}[t]||t)+"."+{"htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm":"038d3c39",htg_pvc_HorizontalTable:"3f7e1ad3",tcg_pvc_HorizontalTable:"7bc35622",tcg_pvc_ePayForm:"706ae0ac",lbmp_pvm_BasemapTooltip:"48621ce6",lbmp_pvm_CircleMarker:"59cdcb57",lbmp_pvm_CyclomediaRecordingCircle:"e98991fb",lbmp_pvm_CyclomediaSvgViewConeMarker:"67a0365d","lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63":"4d7159d2",lbmp_pvm_EsriDynamicMapLayer:"9a382721",lbmp_pvm_EsriFeatureLayer:"3e8d816f",lbmp_pvm_EsriTiledMapLayer:"e0e6d5d9",lbmp_pvm_EsriTiledOverlay:"a5ce0f73",lbmp_pvm_Geojson:"adb67645",lbmp_pvm_MapAddressCandidateList:"cbce2fb4",lbmp_pvm_ModalAbout:"5e56d1a4",lbmp_pvm_PngMarker:"726bac3e",lbmp_pvm_Polygon_:"696dd51d",lbmp_pvm_Polyline_:"4c34d7a4",lbmp_pvm_VectorMarker:"a0b13918",mbmb_pvm_CyclomediaWidget:"8cf0fb66",mbmb_pvm_PictometryLayer:"2ee539bd",mbmb_pvm_PictometryPngMarker:"e6a44472",mbmb_pvm_PictometryViewCone:"58d59ce8",mbmb_pvm_PictometryWidget:"b94d82af",pvc_ExternalLink:"8e0f68b6",tcg_pvc_AnyHeader:"eedc24fe",tcg_pvc_Badge:"f85cb01b",tcg_pvc_BadgeCustom:"848a528a",tcg_pvc_ButtonComp:"dc0304ef",tcg_pvc_Callout:"33ca0713",tcg_pvc_CheckboxSet:"de528bc8",tcg_pvc_CollectionSummary:"5a579424",tcg_pvc_Division:"2544db6b",tcg_pvc_HorizontalTableGroup:"fac63b5a",tcg_pvc_Image:"b6aba5a5",tcg_pvc_List:"8d9dda03",tcg_pvc_OverlayToggleGroup:"ceff93d7",tcg_pvc_Paragraph:"35adffec",tcg_pvc_Popover:"f0a7bbda",tcg_pvc_PopoverLink:"e8bd0a0f",tcg_pvc_SpanComp:"0c4e9be5",tcg_pvc_TabGroup:"fad1a32f",tcg_pvc_TopicSet:"313654fb",tcg_pvc_VerticalTable:"ea7210ae",ht_pvc_HorizontalTableRow:"c01cfdda"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(t){var e=[],i={htg_pvc_HorizontalTable:1,lbmp_pvm_BasemapTooltip:1,lbmp_pvm_CyclomediaSvgViewConeMarker:1,lbmp_pvm_EsriDynamicMapLayer:1,lbmp_pvm_EsriTiledOverlay:1,lbmp_pvm_MapAddressCandidateList:1,lbmp_pvm_ModalAbout:1,lbmp_pvm_VectorMarker:1,mbmb_pvm_CyclomediaWidget:1,mbmb_pvm_PictometryWidget:1,pvc_ExternalLink:1,tcg_pvc_Badge:1,tcg_pvc_BadgeCustom:1,tcg_pvc_Callout:1,tcg_pvc_CheckboxSet:1,tcg_pvc_HorizontalTableGroup:1,tcg_pvc_Image:1,tcg_pvc_List:1,tcg_pvc_OverlayToggleGroup:1,tcg_pvc_Popover:1,tcg_pvc_PopoverLink:1,tcg_pvc_TabGroup:1,tcg_pvc_VerticalTable:1,ht_pvc_HorizontalTableRow:1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=new Promise(function(e,i){for(var a="css/"+({"htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm":"htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm",htg_pvc_HorizontalTable:"htg_pvc_HorizontalTable",tcg_pvc_HorizontalTable:"tcg_pvc_HorizontalTable",tcg_pvc_ePayForm:"tcg_pvc_ePayForm",lbmp_pvm_BasemapTooltip:"lbmp_pvm_BasemapTooltip",lbmp_pvm_CircleMarker:"lbmp_pvm_CircleMarker",lbmp_pvm_CyclomediaRecordingCircle:"lbmp_pvm_CyclomediaRecordingCircle",lbmp_pvm_CyclomediaSvgViewConeMarker:"lbmp_pvm_CyclomediaSvgViewConeMarker","lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63":"lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63",lbmp_pvm_EsriDynamicMapLayer:"lbmp_pvm_EsriDynamicMapLayer",lbmp_pvm_EsriFeatureLayer:"lbmp_pvm_EsriFeatureLayer",lbmp_pvm_EsriTiledMapLayer:"lbmp_pvm_EsriTiledMapLayer",lbmp_pvm_EsriTiledOverlay:"lbmp_pvm_EsriTiledOverlay",lbmp_pvm_Geojson:"lbmp_pvm_Geojson",lbmp_pvm_MapAddressCandidateList:"lbmp_pvm_MapAddressCandidateList",lbmp_pvm_ModalAbout:"lbmp_pvm_ModalAbout",lbmp_pvm_PngMarker:"lbmp_pvm_PngMarker",lbmp_pvm_Polygon_:"lbmp_pvm_Polygon_",lbmp_pvm_Polyline_:"lbmp_pvm_Polyline_",lbmp_pvm_VectorMarker:"lbmp_pvm_VectorMarker",mbmb_pvm_CyclomediaWidget:"mbmb_pvm_CyclomediaWidget",mbmb_pvm_PictometryLayer:"mbmb_pvm_PictometryLayer",mbmb_pvm_PictometryPngMarker:"mbmb_pvm_PictometryPngMarker",mbmb_pvm_PictometryViewCone:"mbmb_pvm_PictometryViewCone",mbmb_pvm_PictometryWidget:"mbmb_pvm_PictometryWidget",pvc_ExternalLink:"pvc_ExternalLink",tcg_pvc_AnyHeader:"tcg_pvc_AnyHeader",tcg_pvc_Badge:"tcg_pvc_Badge",tcg_pvc_BadgeCustom:"tcg_pvc_BadgeCustom",tcg_pvc_ButtonComp:"tcg_pvc_ButtonComp",tcg_pvc_Callout:"tcg_pvc_Callout",tcg_pvc_CheckboxSet:"tcg_pvc_CheckboxSet",tcg_pvc_CollectionSummary:"tcg_pvc_CollectionSummary",tcg_pvc_Division:"tcg_pvc_Division",tcg_pvc_HorizontalTableGroup:"tcg_pvc_HorizontalTableGroup",tcg_pvc_Image:"tcg_pvc_Image",tcg_pvc_List:"tcg_pvc_List",tcg_pvc_OverlayToggleGroup:"tcg_pvc_OverlayToggleGroup",tcg_pvc_Paragraph:"tcg_pvc_Paragraph",tcg_pvc_Popover:"tcg_pvc_Popover",tcg_pvc_PopoverLink:"tcg_pvc_PopoverLink",tcg_pvc_SpanComp:"tcg_pvc_SpanComp",tcg_pvc_TabGroup:"tcg_pvc_TabGroup",tcg_pvc_TopicSet:"tcg_pvc_TopicSet",tcg_pvc_VerticalTable:"tcg_pvc_VerticalTable",ht_pvc_HorizontalTableRow:"ht_pvc_HorizontalTableRow"}[t]||t)+"."+{"htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm":"31d6cfe0",htg_pvc_HorizontalTable:"619a381f",tcg_pvc_HorizontalTable:"31d6cfe0",tcg_pvc_ePayForm:"31d6cfe0",lbmp_pvm_BasemapTooltip:"70b1c397",lbmp_pvm_CircleMarker:"31d6cfe0",lbmp_pvm_CyclomediaRecordingCircle:"31d6cfe0",lbmp_pvm_CyclomediaSvgViewConeMarker:"61dd27a4","lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63":"31d6cfe0",lbmp_pvm_EsriDynamicMapLayer:"f86fb2e9",lbmp_pvm_EsriFeatureLayer:"31d6cfe0",lbmp_pvm_EsriTiledMapLayer:"31d6cfe0",lbmp_pvm_EsriTiledOverlay:"f86fb2e9",lbmp_pvm_Geojson:"31d6cfe0",lbmp_pvm_MapAddressCandidateList:"072cd869",lbmp_pvm_ModalAbout:"b0479e82",lbmp_pvm_PngMarker:"31d6cfe0",lbmp_pvm_Polygon_:"31d6cfe0",lbmp_pvm_Polyline_:"31d6cfe0",lbmp_pvm_VectorMarker:"dde6c4bb",mbmb_pvm_CyclomediaWidget:"037ff3ff",mbmb_pvm_PictometryLayer:"31d6cfe0",mbmb_pvm_PictometryPngMarker:"31d6cfe0",mbmb_pvm_PictometryViewCone:"31d6cfe0",mbmb_pvm_PictometryWidget:"f09a69aa",pvc_ExternalLink:"0d33897a",tcg_pvc_AnyHeader:"31d6cfe0",tcg_pvc_Badge:"8c6389c2",tcg_pvc_BadgeCustom:"5b718db7",tcg_pvc_ButtonComp:"31d6cfe0",tcg_pvc_Callout:"f18aa232",tcg_pvc_CheckboxSet:"b6e53598",tcg_pvc_CollectionSummary:"31d6cfe0",tcg_pvc_Division:"31d6cfe0",tcg_pvc_HorizontalTableGroup:"448a796e",tcg_pvc_Image:"9ee847e6",tcg_pvc_List:"8d05a252",tcg_pvc_OverlayToggleGroup:"5cb7fbdf",tcg_pvc_Paragraph:"31d6cfe0",tcg_pvc_Popover:"c766107e",tcg_pvc_PopoverLink:"346307ca",tcg_pvc_SpanComp:"31d6cfe0",tcg_pvc_TabGroup:"b5efa514",tcg_pvc_TopicSet:"31d6cfe0",tcg_pvc_VerticalTable:"44608b17",ht_pvc_HorizontalTableRow:"6feb3897"}[t]+".css",o=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],p=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(p===a||p===o))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],p=l.getAttribute("data-href");if(p===a||p===o)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.request=a,delete n[t],m.parentNode.removeChild(m),i(r)},m.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(m)}).then(function(){n[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,i){a=o[t]=[e,i]});e.push(a[2]=r);var l,p=document.createElement("script");p.charset="utf-8",p.timeout=120,c.nc&&p.setAttribute("nonce",c.nc),p.src=s(t),l=function(e){p.onerror=p.onload=null,clearTimeout(u);var i=o[t];if(0!==i){if(i){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+n+")");r.type=a,r.request=n,i[1](r)}o[t]=void 0}};var u=setTimeout(function(){l({type:"timeout",target:p})},12e4);p.onerror=p.onload=l,document.head.appendChild(p)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(i,a,function(e){return t[e]}.bind(null,a));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var m=p;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"01a2":function(t,e,i){"use strict";var a=i("1ce6"),n=i.n(a);n.a},"0317":function(t,e,i){"use strict";var a=i("5d73"),n=i.n(a),o=(i("19e2"),i("a4bb")),r=i.n(o);function s(t,e,i){var a=r()(i).filter(function(t){return t.startsWith("l-")}).map(function(t){return t.slice(2)}),o=!0,s=!1,c=void 0;try{for(var l,p=function(){var i=l.value,a="l-"+i;e.on(i,function(e){t.$emit(a,e)})},u=n()(a);!(o=(l=u.next()).done);o=!0)p()}catch(m){s=!0,c=m}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}}e["a"]=s},"08b7":function(t,e,i){"use strict";var a=i("1da7"),n=i.n(a);n.a},"0a65":function(t,e,i){},"0b6d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.topicComponents,function(e,a){return i(e.type,{key:t.getCompKey(t.key,a),tag:"component",staticClass:"topic-component",attrs:{slots:e.slots,options:e.options,item:t.item}})}),1)},n=[];i("2bf3");function o(){return"id-"+Math.random().toString(36).substring(7)}var r=o,s={name:"TopicComponentGroup",props:["topicComponents","item","filterData"],components:{Badge:function(){return i.e("tcg_pvc_Badge").then(i.bind(null,"e423"))},ButtonComp:function(){return i.e("tcg_pvc_ButtonComp").then(i.bind(null,"62e1"))},Callout:function(){return i.e("tcg_pvc_Callout").then(i.bind(null,"986d"))},CollectionSummary:function(){return i.e("tcg_pvc_CollectionSummary").then(i.bind(null,"ed23"))},Division:function(){return i.e("tcg_pvc_Division").then(i.bind(null,"3ed4"))},ePayForm:function(){return Promise.all([i.e("htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm"),i.e("tcg_pvc_ePayForm")]).then(i.bind(null,"c929"))},ExternalLink:function(){return i.e("pvc_ExternalLink").then(i.bind(null,"c424"))},HorizontalTable:function(){return Promise.all([i.e("htg_pvc_HorizontalTable~tcg_pvc_HorizontalTable~tcg_pvc_ePayForm"),i.e("htg_pvc_HorizontalTable"),i.e("tcg_pvc_HorizontalTable")]).then(i.bind(null,"efca"))},Image_:function(){return i.e("tcg_pvc_Image").then(i.bind(null,"e6e4"))},VerticalTable:function(){return i.e("tcg_pvc_VerticalTable").then(i.bind(null,"d040"))},OverlayToggleGroup:function(){return i.e("tcg_pvc_OverlayToggleGroup").then(i.bind(null,"80d4"))},Paragraph:function(){return i.e("tcg_pvc_Paragraph").then(i.bind(null,"2623"))},SpanComp:function(){return i.e("tcg_pvc_SpanComp").then(i.bind(null,"23a3"))},List:function(){return i.e("tcg_pvc_List").then(i.bind(null,"abcb"))},HorizontalTableGroup:function(){return Promise.all([i.e("tcg_pvc_HorizontalTable"),i.e("tcg_pvc_HorizontalTableGroup")]).then(i.bind(null,"1b4b"))},PopoverLink:function(){return i.e("tcg_pvc_PopoverLink").then(i.bind(null,"a6b3"))},Popover:function(){return i.e("tcg_pvc_Popover").then(i.bind(null,"14f8"))},TabGroup:function(){return i.e("tcg_pvc_TabGroup").then(i.bind(null,"73b7"))},BadgeCustom:function(){return i.e("tcg_pvc_BadgeCustom").then(i.bind(null,"6e46"))},Topic:function(){return Promise.resolve().then(i.bind(null,"e95e"))},TopicSet:function(){return i.e("tcg_pvc_TopicSet").then(i.bind(null,"15f5"))},AnyHeader:function(){return i.e("tcg_pvc_AnyHeader").then(i.bind(null,"ac7d"))},CheckboxSet:function(){return i.e("tcg_pvc_CheckboxSet").then(i.bind(null,"6fe7"))}},beforeCreate:function(){},data:function(){return{key:r()}},methods:{getCompKey:function(t,e){return"topic-comp-".concat(t,"-").concat(e)}}},c=s,l=(i("63d0"),i("2877")),p=Object(l["a"])(c,a,n,!1,null,"4a2a9588",null);e["default"]=p.exports},1:function(t,e){},1411:function(t,e,i){"use strict";var a,n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"div-row"},[t.bennyId?i("a",{attrs:{href:"http://metadata.phila.gov/#home/representationdetails/"+this.bennyId,target:"_blank"}},[i("span",[i("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"info-circle"}})],1)]):t._e(),i("input",{class:{disabled:t.shouldBeDisabled},attrs:{id:"checkbox-"+t.layerName,type:"checkbox",layerid:t.layerId},domProps:{checked:t.webMapActiveLayers.includes(t.layerName)},on:{click:t.checkboxToggle}}),i("label",{class:{disabled:t.shouldBeDisabled,"label-text":!0},attrs:{for:"checkbox-"+t.layerName}},[i("div",{staticClass:"layer-name"},[t._v(t._s(t.layerName))])])]),this.$store.state.map.webMapActiveLayers.includes(t.layerName)?i("legend-box",{attrs:{layer:t.layer,layerName:t.layerName,layerId:t.layerId,layerDefinition:t.layerDefinition,legend:t.legend,scales:this.$config.map.scales}}):t._e(),this.$store.state.map.webMapActiveLayers.includes(t.layerName)?i("slider",{attrs:{layer:t.layer,layerName:t.layerName,layerId:t.layerId,opacity:t.opacity}}):t._e()],1)},r=[],s=(i("b15d"),i("a4bb")),c=i.n(s),l=i("5d73"),p=i.n(l),u=(i("2d6d"),i("3af8"),i("7618")),m={props:{slots:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},beforeCreate:function(){},created:function(){},computed:{nullValue:function(){var t=this.options||{};return t.nullValue}},methods:{evaluateSlot:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return t;var n,o=Object(u["a"])(t);if("function"===o){var r=this.$store.state,s=this.$controller,l=t,m=this.item;n=m?l(r,m,s):l(r)}else n=t;if(!1===n);else if(!n)return a;var d=!0,h=!1,f=void 0;try{for(var _,v=function(){var t=_.value,i=e.$config.transforms[t],a=void 0,o=i.globals;o&&(a=c()(window).filter(function(t){return o.includes(t)}).reduce(function(t,e){return t[e]=window[e],t},{}));var r=i.transform;n=r(n,a)},g=p()(i);!(d=(_=g.next()).done);d=!0)v()}catch(y){h=!0,f=y}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}return n}}},d=m,h=i("2877"),f=Object(h["a"])(d,a,n,!1,null,null,null),_=(f.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"legend",domProps:{innerHTML:t._s(this.legendHtml)}})])}),v=[],g=i("59ad"),y=i.n(g),b=i("f499"),w=i.n(b),C={props:["layer","layerName","layerId","layerDefinition","legend","scales"],data:function(){return{legendHtml:"",options:{listTemplate:"<ul>{layers}</ul>",layerTemplate:"<li><ul>{legends}</ul></li>",listRowTemplate:'<li><img width="{width}" height="{height}" src="data:{contentType};base64,{imageData}"><span>{label}</span></li>',emptyLabel:"",container:null}}},created:function(){this.initialize()},watch:{scale:function(t){this.createLegend(t)},legend:function(){console.log("watch legend fired"),this.createLegend(this.scale)}},computed:{scale:function(){var t=this.$store.state.map.zoom,e=t+1,i=this.$props.scales[e];return i}},methods:{initialize:function(){var t;this.$props.layerDefinition&&(t=this.$props.layerDefinition.drawingInfo);var e={layerName:this.$props.layerName,layerId:this.$props.layerId,store:this.$store,drawingInfo:t};console.log("LegendBox initialize is running:",this.$props.layer,e,"L.esri:",L.esri);L.esri.legendControl(this.$props.layer,e)},createLegend:function(t){var e=this.$props.legend;console.log("METHOD createLegend running",t,e);var i="";if(1===e.layers.length){var a=e.layers[0],n="",o=!0,r=!1,s=void 0;try{for(var c,l=p()(a.legend);!(o=(c=l.next()).done);o=!0){var u=c.value,m=JSON.parse(w()(u));m.label||(m.label=""),n+=L.Util.template(this.options.listRowTemplate,m)}}catch(O){r=!0,s=O}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}i+=L.Util.template(this.options.layerTemplate,{layerName:a.layerName,legends:n})}else{var d=!0,h=!1,f=void 0;try{for(var _,v=p()(e.layers);!(d=(_=v.next()).done);d=!0){var g=_.value,b="";if(y()(t)>y()(g.maxScale)&&y()(t)<y()(g.minScale)){var C=!0,$=!1,T=void 0;try{for(var M,E=p()(g.legend);!(C=(M=E.next()).done);C=!0){var P=M.value,k=JSON.parse(w()(P));b+=L.Util.template(this.options.listRowTemplate,k)}}catch(O){$=!0,T=O}finally{try{C||null==E.return||E.return()}finally{if($)throw T}}}i+=L.Util.template(this.options.layerTemplate,{layerName:g.layerName,legends:b})}}catch(O){h=!0,f=O}finally{try{d||null==v.return||v.return()}finally{if(h)throw f}}}var S=L.Util.template(this.options.listTemplate,{layers:i});this.legendHtml=S}}},$=C,T=(i("4901"),Object(h["a"])($,_,v,!1,null,null,null)),M=T.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.opa,expression:"opa"}],staticClass:"slider",attrs:{type:"range",min:"1",max:"100",step:"1"},domProps:{value:t.opa},on:{__r:function(e){t.opa=e.target.value}}})])},P=[],k={props:["layer","layerName","layerId","opacity"],data:function(){return{opa:100*this.$props.opacity}},watch:{opa:function(t){var e={layerName:this.$props.layerName,opa:t/100};this.$store.commit("setWebMapLayersOpacity",e)}},created:function(){},computed:{},methods:{}},S=k,O=(i("a781"),Object(h["a"])(S,E,P,!1,null,null,null)),x=O.exports,D={components:{LegendBox:M,Slider:x},props:["layer","layerName","layerId","layerDefinition","opacity","legend","tags"],data:function(){return{opa:100*this.$props.opacity}},watch:{opa:function(t){var e={layerName:this.$props.layerName,opa:t/100};this.$store.commit("setWebMapLayersOpacity",e)},shouldBeDisabled:function(t){this.webMapActiveLayers.includes(this.$props.layerName)&&!0===t?this.removeFromWebMapDisplayedLayers():this.webMapActiveLayers.includes(this.$props.layerName)&&!1===t&&this.addToWebMapDisplayedLayers()}},computed:{matchingTags:function(){var t=[];if(null!==this.$props.tags&&""!==this.inputTagsFilter){var e=!0,i=!1,a=void 0;try{for(var n,o=p()(this.$props.tags);!(e=(n=o.next()).done);e=!0){var r=n.value;r.toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&t.push(r)}}catch(s){i=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(i)throw a}}}return t},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},scale:function(){return this.$store.state.map.scale},shouldBeDisabled:function(){var t=this.$props.layerDefinition;return!!t&&(t.minScale?this.scale>t.minScale:void 0)},layerUrls:function(){return this.$store.state.layers.layerUrls},bennyEndpoints:function(){return this.$store.state.bennyEndpoints},url:function(){return this.layerUrls[this.$props.layerName]},bennyId:function(){if(c()(this.bennyEndpoints).length>0){var t=this.bennyEndpoints[this.url];return t}return" "},webMapUrlLayer:function(){return this.$store.state.map.webMapUrlLayer},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},webMapGeoJson:function(){return this.$store.state.map.webMapGeoJson}},methods:{trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},checkboxToggle:function(t){console.log("checkboxToggle",t.target,t.target.id,t.target.checked);var e=this.webMapUrlLayer,i=this.webMapActiveLayers,a=this.webMapDisplayedLayers,n=t.target.id.replace("checkbox-","");if(t.target.checked)console.log("target checked, targetReplace:",n),i.push(n),a.push(n),1===i.length&&this.$store.commit("setWebMapUrlLayer",n);else{console.log("target not checked");var o=i.indexOf(n);o>=0&&i.splice(o,1);var r=a.indexOf(n);r>=0&&a.splice(r,1),e===n&&this.$store.commit("setWebMapUrlLayer",null)}this.$store.commit("setWebMapActiveLayers",i),this.$store.commit("setWebMapDisplayedLayers",a)},removeFromWebMapDisplayedLayers:function(){var t=this.webMapDisplayedLayers,e=t.indexOf(this.$props.layerName);e>=0&&t.splice(e,1),this.$store.commit("setWebMapDisplayedLayers",t)},addToWebMapDisplayedLayers:function(){var t=this.webMapDisplayedLayers;t.push(this.$props.layerName),this.$store.commit("setWebMapDisplayedLayers",t)}}},A=D,I=(i("27ed"),Object(h["a"])(A,o,r,!1,null,"7cf953da",null));e["a"]=I.exports},"182a":function(t,e,i){},"18b9":function(t,e,i){"use strict";var a=i("b40f"),n=i.n(a);n.a},"1ce6":function(t,e,i){},"1da7":function(t,e,i){},"27ed":function(t,e,i){"use strict";var a=i("0a65"),n=i.n(a);n.a},2924:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},n=[],o=i("d225"),r=i("b0b4"),s=i("308d"),c=i("6bb5"),l=i("4e2b"),p=i("e11e"),u={name:"Control",props:["position"],methods:{createLeafletElement:function(t){var e=function(e){function i(t,e){var a;return Object(o["a"])(this,i),a=Object(s["a"])(this,Object(c["a"])(i).call(this,e)),a.el=t,a}return Object(l["a"])(i,e),Object(r["a"])(i,[{key:"onAdd",value:function(){var e=this.el;return t.DomEvent.disableClickPropagation(e),t.DomEvent.disableScrollPropagation(e),e}}]),i}(t.Control),i=this.$el;return new e(i,{position:this.position})},parentMounted:function(t,e){var i=this.createLeafletElement(p);this.$leafletElement=i;var a=t.$leafletElement;i.addTo(a)}}},m=u,d=i("2877"),h=Object(d["a"])(m,a,n,!1,null,null,null);e["default"]=h.exports},"31c4":function(t,e,i){},3500:function(t,e,i){},"3cfc":function(t,e,i){"use strict";var a,n,o,r,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cell medium-auto grid-x",attrs:{id:"mb-root"}},[i("button",{staticClass:"small-24 button datasets-button",on:{click:t.toggleTopics}},[t._v("\n    "+t._s(this.buttonMessage)+"\n  ")]),i("topic-panel",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowTopics,expression:"shouldShowTopics"}]}),i("map-panel",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowMap,expression:"shouldShowMap"}]},[this.shouldLoadCyclomediaWidget?i("cyclomedia-widget",{directives:[{name:"show",rawName:"v-show",value:t.cyclomediaActive,expression:"cyclomediaActive"}],attrs:{slot:"cycloWidget","screen-percent":"3"},slot:"cycloWidget"}):t._e(),this.shouldLoadPictometryWidget?i("pictometry-widget",{directives:[{name:"show",rawName:"v-show",value:t.pictometryActive,expression:"pictometryActive"}],attrs:{slot:"pictWidget",apiKey:this.ak,secretKey:this.sk},slot:"pictWidget"},[this.pictometryShowAddressMarker?i("pictometry-png-marker",{attrs:{latlng:[this.geocodeData.geometry.coordinates[1],this.geocodeData.geometry.coordinates[0]],icon:"markers.png",height:60,width:40,offsetX:0,offsetY:0}}):t._e(),this.pictometryActive?i("pictometry-layer"):t._e(),this.cyclomediaActive&&this.pictometryActive?i("pictometry-png-marker",{attrs:{latlng:t.cycloLatlng,icon:"camera2.png",height:20,width:30,offsetX:-2,offsetY:-2}}):t._e(),this.cyclomediaActive&&this.pictometryActive?i("pictometry-view-cone",{attrs:{latlng:t.cycloLatlng,rotationAngle:t.cycloRotationAngle,hFov:t.cycloHFov}}):t._e()],1):t._e()],1)],1)},c=[],l=i("e814"),p=i.n(l),u=(i("8e20"),i("747f"),i("5d73")),m=i.n(u),d=i("2bd0"),h=i.n(d),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:this.topicPanelContainerClass,attrs:{id:"topic-panel-container"}},[i("div",{staticClass:"cell"},[i("div",{staticClass:"forms-header"},[i("form",{staticClass:"om-search-control-input-tags",on:{submit:function(e){return e.preventDefault(),t.handleTagsFilterFormX(e)},keydown:t.preventEnter}},[i("div",{staticClass:"input-group text-filter"},[i("span",{staticClass:"input-group-label input-font"},[t._v("Filter:")]),i("input",{staticClass:"input-type",attrs:{type:"text"},on:{keyup:t.handleTagsFilterFormKeyup}}),""!=this.$store.state.layers.inputTagsFilter?i("div",{staticClass:"input-group-button"},[t._m(0)]):t._e()])])]),i("div",{staticClass:"topics-container cell medium-cell-block-y",attrs:{id:"topics-container"}},[i("topic-component-group",{attrs:{"topic-components":this.$config.components}})],1)])])},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"om-search-control-button"},[i("i",{staticClass:"fa fa-times fa-lg"})])}],v=(i("fd91"),i("f92b"),i("1411")),g=i("e95e"),y=i("0b6d"),b={components:{Checkbox:v["a"],TopicComponentGroup:y["default"],Topic:g["default"]},computed:{windowWidth:function(){return this.$store.state.windowWidth},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},topicPanelContainerClass:function(){return this.fullScreenMapEnabled?"cell medium-1 small-order-2 medium-order-1":this.windowWidth>=950?"cell medium-8 small-order-1 small-24 medium-order-2":"cell medium-10 small-order-1 small-24 medium-order-2"},categories:function(){return this.$store.state.map.categories},selectedCategory:function(){return this.$store.state.map.selectedCategory},scale:function(){return this.$store.state.map.scale},currentWmLayers:function(){var t=this.$store.state.map.webMapLayersAndRest,e=[],i=!0,a=!1,n=void 0;try{for(var o,r=m()(t);!(i=(o=r.next()).done);i=!0){var s=o.value;if(s.tags)(s.title.toLowerCase().includes(this.inputLayerFilter.toLowerCase())&&s.tags.join().toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&s.category.includes(this.selectedCategory)||this.$store.state.map.webMapActiveLayers.includes(s.title))&&e.push(s);else{if(""!==this.inputTagsFilter)continue;(s.title.toLowerCase().includes(this.inputLayerFilter.toLowerCase())&&s.category.includes(this.selectedCategory)||this.$store.state.map.webMapActiveLayers.includes(s.title))&&e.push(s)}}}catch(c){a=!0,n=c}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}return e},inputLayerFilter:function(){return this.$store.state.layers.inputLayerFilter},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},windowSize:function(){return this.$store.state.windowSize}},methods:{handleLayerFilterFormKeyup:function(t){var e=t.target.value;this.$store.commit("setInputLayerFilter",e)},handleLayerFilterFormX:function(t){t.target[0].value="",this.$store.commit("setInputLayerFilter","")},handleTagsFilterFormKeyup:function(t){var e=t.target.value;this.$store.commit("setInputTagsFilter",e)},handleTagsFilterFormX:function(t){t.target[0].value="",this.$store.commit("setInputTagsFilter","")},didSelectCategory:function(t){var e=t.target.selectedIndex;this.$store.commit("setSelectedCategory",this.categories[e])},preventEnter:function(t){13===t.keyCode&&t.preventDefault()}}},w=b,C=(i("7b0b"),i("2877")),$=Object(C["a"])(w,f,_,!1,null,"459dea70",null),T=$.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:this.mapPanelContainerClass,attrs:{id:"map-panel-container"}},[t._m(0),i("map_",{class:{"mb-map-with-widget":this.$store.state.cyclomedia.active||this.$store.state.pictometry.active},attrs:{id:"map-tag",center:this.mapCenter,zoom:this.$store.state.map.zoom,"zoom-control-position":"bottomright","min-zoom":this.$config.map.minZoom,"max-zoom":22},on:{"l-click":t.handleMapClick,"l-moveend":t.handleMapMove}},["Polygon"===this.selectedPopupLayerGeometryType||"MultiPolygon"===this.selectedPopupLayerGeometryType?i("polygon_",{attrs:{color:"#00ffff",fill:!1,weight:5,latlngs:this.selectedPopupLayerCoordinatesFlipped,pane:"highlightOverlay"}}):t._e(),"LineString"===this.selectedPopupLayerGeometryType?i("polyline_",{attrs:{color:"#00ffff",weight:4,latlngs:this.selectedPopupLayerCoordinatesFlipped,pane:"highlightOverlay"}}):t._e(),"Point"===this.selectedPopupLayerGeometryType?i("circle-marker",{attrs:{latlng:this.selectedPopupLayerCoordinatesFlipped,radius:7,fillColor:"#00ffff",color:"#00ffff",weight:this.locationMarker.weight,opacity:this.locationMarker.opacity,fillOpacity:this.locationMarker.fillOpacity,pane:"highlightOverlay"}}):t._e(),i("esri-web-map",t._l(this.$store.state.map.webMapLayersAndRest,function(e,a){return t.shouldShowFeatureLayer(e)?i("esri-web-map-layer",{key:a,attrs:{layer:e.layer,layerName:e.title,layerDefinition:e.rest.layerDefinition,opacity:e.opacity,type:e.type2}}):t._e()}),1),this.shouldShowPopup?i("pop-up",[i("pop-up-content")],1):t._e(),t._l(this.$config.map.basemaps,function(e,a){return t.activeBasemap===a?i("esri-tiled-map-layer",{key:a,attrs:{name:a,url:e.url,"max-zoom":e.maxZoom,zIndex:e.zIndex,attribution:e.attribution}}):t._e()}),t._l(this.$config.map.tiledLayers,function(e,a){return t.activeTiles.includes(a)?i("esri-tiled-map-layer",{key:a,attrs:{name:a,url:e.url,zIndex:e.zIndex,attribution:e.attribution}}):t._e()}),t._l(t.markers,function(t,e){return i("vector-marker",{key:t.key,attrs:{latlng:t.latlng,markerColor:t.color,icon:t.icon}})}),this.cyclomediaActive?i("png-marker",{attrs:{icon:"images/camera.png",latlng:t.cycloLatlng,rotationAngle:t.cycloRotationAngle}}):t._e(),this.cyclomediaActive?i("svg-view-cone-marker",{attrs:{latlng:t.cycloLatlng,rotationAngle:t.cycloRotationAngle,hFov:t.cycloHFov}}):t._e(),i("control-corner",{attrs:{vSide:"top",hSide:"almostright"}}),i("control-corner",{attrs:{vSide:"top",hSide:"almostleft"}}),t._m(2),t._m(3),t._m(5),t._m(7),this.measureControlEnabled?t._m(8):t._e(),t._m(10),t._m(11),this.addressAutocompleteEnabled?i("map-address-candidate-list",{attrs:{position:this.addressInputPosition,widthFromConfig:this.addressInputWidth}}):t._e(),null!=this.$store.state.map.location.lat?i("circle-marker",{attrs:{latlng:this.locationMarker.latlng,radius:this.locationMarker.radius,fillColor:this.locationMarker.fillColor,color:this.locationMarker.color,weight:this.locationMarker.weight,opacity:this.locationMarker.opacity,fillOpacity:this.locationMarker.fillOpacity,pane:"highlightOverlay"}}):t._e(),t._l(t.cyclomediaRecordings,function(e){return t.cyclomediaActive?i("cyclomedia-recording-circle",{key:e.imageId,attrs:{imageId:e.imageId,latlng:[e.lat,e.lng],size:1.2,color:"#3388ff",weight:1},on:{"l-click":t.handleCyclomediaRecordingClick}}):t._e()})],2),i("modal-about"),t._t("cycloWidget"),t._t("pictWidget")],2)},E=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("full-screen-map-toggle-tab")},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basemap-toggle-control",{attrs:{position:"topright"}})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.shouldShowImageryToggle?t._m(1):t._e()],1)},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("basemap-select-control",{attrs:{position:"topalmostright"}})],1)},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pictometry-button",{attrs:{position:"topright",link:"pictometry",imgSrc:"images/pictometry.png"}})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.shouldShowPictometryButton?t._m(4):t._e()],1)},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("cyclomedia-button",{attrs:{position:"topright",link:"cyclomedia",imgSrc:"images/cyclomedia.png"},on:{click:t.handleCyclomediaButtonClick}})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.shouldShowCyclomediaButton?t._m(6):t._e()],1)},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("measure-control",{attrs:{position:"bottomleft"}})],1)},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("location-control",{attrs:{position:"bottomright"},on:{click:t.handleButtonClick}})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.geolocationEnabled?t._m(9):t._e()],1)},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("map-address-input",{attrs:{position:this.addressInputPosition,placeholder:this.addressInputPlaceholder,widthFromConfig:this.addressInputWidth}})],1)}],P=i("db0c"),k=i.n(P),S=i("75fc"),O={computed:{markers:function(){var t=[],e=this.geocodeGeom;if(e){var i=Object(S["a"])(e.coordinates).reverse(),a=this.geocodeResult.properties.street_address,n="#2176d2",o="geocode",r={prefix:"fas",icon:"map-marker-alt",shadow:!0,size:50},s={latlng:i,key:a,color:n,markerType:o,icon:r};t.push(s)}return t},locationMarker:function(){var t=[this.$store.state.map.location.lat,this.$store.state.map.location.lng],e={latlng:t,radius:6,fillColor:"#ff3f3f",color:"#ff0000",weight:1,opacity:1,fillOpacity:1};return e}}},x={name:"cyclomediaMixin",computed:{cyclomediaActive:function(){return this.$store.state.cyclomedia.active},cyclomediaRecordings:function(){return this.$store.state.cyclomedia.recordings}},methods:{handleCyclomediaButtonClick:function(){this.updateCyclomediaRecordings()},handleCyclomediaRecordingClick:function(t){var e=t.latlng;console.log("handleCyclomediaRecordingClick is running, latlng:",e),this.$store.commit("setCyclomediaLatLngFromMap",e)},updateCyclomediaRecordings:function(){var t=this,e=this.$store.state.map.map,i=e.getZoom();if(!this.$store.state.cyclomedia.active||i<=18)this.$store.commit("setCyclomediaRecordings",[]);else{var a=e.getBounds();this.$cyclomediaRecordingsClient.getRecordings(a,function(e){t.$store.commit("setCyclomediaRecordings",e)})}}}},D={name:"pictometryMixin",computed:{pictometryActive:function(){return this.$store.state.pictometry.active}}},A=i("59ad"),I=i.n(A),F=(i("63b2"),i("768b")),B=i("d225"),z=i("b0b4"),W=i("c6f6"),H=i.n(W),R=i("a6c8"),j=i.n(R),G=function(){function t(e,i,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3857,o=arguments.length>4?arguments[4]:void 0;Object(B["a"])(this,t),this.baseUrl=e,this.username=i,this.password=a,this.srid=n,this.proxy=o}return Object(z["a"])(t,[{key:"getRecordings",value:function(t,e){var i=t.getSouthWest(),a=t.getNorthEast(),n='<wfs:GetFeature service="WFS" version="1.1.0" resultType="results" outputFormat="text/xml; subtype=gml/3.1.1" xmlns:wfs="http://www.opengis.net/wfs">\n\t\t\t\t\t\t\t\t\t\t\t<wfs:Query typeName="atlas:Recording" srsName="EPSG:'.concat(this.srid,'" xmlns:atlas="http://www.cyclomedia.com/atlas">\n\t\t\t\t\t\t\t\t\t\t\t\t<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">\n\t\t\t\t\t\t    \t\t\t\t\t<ogc:And>\n\t\t\t\t\t\t      \t\t\t\t\t<ogc:BBOX>\n\t\t\t\t\t\t\t\t\t\t\t        <gml:Envelope srsName="EPSG:').concat(this.srid,'" xmlns:gml="http://www.opengis.net/gml">\n\t\t\t\t\t\t\t\t\t\t\t          <gml:lowerCorner>').concat(i.lng," ").concat(i.lat,"</gml:lowerCorner>\n\t\t\t\t\t\t\t\t\t\t\t          <gml:upperCorner>").concat(a.lng," ").concat(a.lat,"</gml:upperCorner>\n\t\t\t\t\t\t\t\t\t\t\t        </gml:Envelope>\n\t\t\t\t\t\t\t\t\t\t\t      </ogc:BBOX>\n\t\t\t\t\t\t\t\t\t\t\t      <ogc:PropertyIsNull>\n\t\t\t\t\t\t\t\t\t\t\t        <ogc:PropertyName>expiredAt</ogc:PropertyName>\n\t\t\t\t\t\t\t\t\t\t\t      </ogc:PropertyIsNull>\n\t\t\t\t\t\t\t\t\t\t\t    </ogc:And>\n\t\t\t\t\t\t\t\t\t\t\t  </ogc:Filter>\n\t\t\t\t\t\t\t\t\t\t\t </wfs:Query>\n\t\t\t\t\t\t\t\t\t\t\t</wfs:GetFeature>"),o=(this.proxy||"")+this.baseUrl;H.a.ajax({url:o,data:n,type:"POST",contentType:"text/xml",headers:{Authorization:"Basic "+window.btoa(this.username+":"+this.password)},success:function(t){console.log("got recordings",t);var i=t.getElementsByTagNameNS("*","Recording"),a=[].slice.call(i);if(a.length<1)console.log("no cyclomedia recordings for bounds");else{var n=a.map(function(t){var e=t.getElementsByTagNameNS("*","imageId")[0].firstChild.data,i=t.getElementsByTagNameNS("*","pos")[0].firstChild.data,a=i.split(" ").map(I.a),n=Object(F["a"])(a,2),o=n[0],r=n[1];return{imageId:e,lng:o,lat:r}});e(n)}},error:function(t,e,i){console.log(t.status),console.log(i)}})}}]),t}(),N=G,U=i("e11e"),K={name:"ControlCorner",props:["vSide","hSide"],render:function(t){},methods:{parentMounted:function(t){var e=t.$leafletElement;e._controlCorners[this.vSide+this.hSide]=U["DomUtil"].create("div","leaflet-"+this.vSide+" leaflet-"+this.hSide,e._controlContainer)}}},V=K,q=(i("70df"),Object(C["a"])(V,a,n,!1,null,null,null)),X=q.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.isMobileOrTablet?t._e():i("div",{staticClass:"toggle-tab",style:{top:t.buttonPosition},attrs:{id:"toggle-tab"},on:{click:t.handleFullScreenMapToggleButtonClick}},[i("span",{staticClass:"align-span"},[i("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:this.currentIcon}})],1)])},J=[],Y=(i("b15d"),{name:"FullScreenMapToggleTab",data:function(){return{divHeight:0,buttonPosition:0}},mounted:function(){window.addEventListener("resize",this.setDivHeight),this.setDivHeight()},computed:{fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},fullScreenTopicsEnabled:function(){return this.$store.state.fullScreenTopicsEnabled},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},pictometryActive:function(){return this.$store.state.pictometry.active},picOrCycloActive:function(){return!(!this.cyclomediaActive&&!this.pictometryActive)},currentIcon:function(){return this.fullScreenMapEnabled?"caret-right":"caret-left"}},watch:{picOrCycloActive:function(t){this.setDivHeight()},fullScreenTopicsEnabled:function(){this.setDivHeight()}},methods:{setDivHeight:function(){var t=document.getElementById("map-tag"),e=window.getComputedStyle(t),i=I()(e.getPropertyValue("height").replace("px",""));this.buttonPosition=(i-48)/2+"px"},handleFullScreenMapToggleButtonClick:function(t){var e=this.$store.state.fullScreenMapEnabled,i=!e;this.$store.commit("setFullScreenMapEnabled",i)}}}),Q=Y,tt=(i("c471"),Object(C["a"])(Q,Z,J,!1,null,"35a40dfb",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:this.mapContainerClass},[i("div",{ref:"map",staticClass:"map",attrs:{id:"map"}}),i("div",[t._t("default")],2)])},at=[],nt=i("a8db"),ot=(i("2d6d"),i("3af8"),i("0317")),rt={name:"Map_",props:["center","zoom","zoomControlPosition","minZoom","maxZoom"],mounted:function(){var t=this.$leafletElement=this.createLeafletElement();t.zoomControl.setPosition(this.$props.zoomControlPosition),this.$store.commit("setMap",{map:t}),this.setMapView(this.center),this.$nextTick(function(){t.attributionControl.setPrefix('<a target="_blank" href="//www.phila.gov/it/aboutus/units/Pages/GISServicesGroup.aspx">City of Philadelphia | CityGeo</a>')});var e=!0,i=!1,a=void 0;try{for(var n,o=m()(this.$children);!(e=(n=o.next()).done);e=!0){var r=n.value;r.parentMounted(this,r.$props)}}catch(s){i=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(i)throw a}}Object(ot["a"])(this,this.$leafletElement,this._events),this.$config.map.clickToIdentifyFeatures&&t.on("click",this.identifyFeatures)},watch:{center:function(t){this.setMapView(t)},zoom:function(t){t&&(this.$leafletElement.setZoom(t),this.$store.commit("setMapZoom",t))},mapBounds:function(t){console.log("watch nextBounds is firing, nextBounds:",t,"this.$leafletElement:",this.$leafletElement),this.setMapBounds(t)},fullScreenMapEnabled:function(){this.$leafletElement.invalidateSize()},webMapDisplayedLayers:function(t){var e=[],i=!0,a=!1,n=void 0;try{for(var o,r=m()(this.intersectingFeatures);!(i=(o=r.next()).done);i=!0){var s=o.value;e.push(s.feature.layerName)}}catch(p){a=!0,n=p}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}console.log("map.vue watch nextWebMapDisplayedLayers:",t,"intersectingLayers:",e);for(var c=0;c<e.length;c++){var l=e[c];if(!t.includes(l))return void this.$store.commit("setIntersectingFeatures",[])}}},computed:{mapContainerClass:function(){return this.$config.map.containerClass?this.$config.map.containerClass:"map-container"},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},mapBounds:function(){return this.$store.state.map.bounds},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},intersectingFeatures:function(){return this.$store.state.map.intersectingFeatures}},methods:{createLeafletElement:function(){var t=this.$props,e=(t.zoomControlPosition,Object(nt["a"])(t,["zoomControlPosition"]));return new U["Map"](this.$refs.map,e)},childDidMount:function(t){t.addTo(this.$leafletElement)},setMapView:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom;if(0!==t.length){var i=Object(F["a"])(t,2),a=i[0],n=i[1],o=new U["LatLng"](n,a);this.$leafletElement.setView(o,e)}},setMapBounds:function(t){if(t._northEast){var e=this.$leafletElement;e.fitBounds([[t._northEast.lat,t._northEast.lng],[t._southWest.lat,t._southWest.lng]])}},identifyFeatures:function(t){var e,i=this.$leafletElement,a=new U["LatLngBounds"](t.latlng,t.latlng),n=[];for(var o in i._layers){var r=i._layers[o];if(r._layers)for(var s in r._layers){var c=r._layers[s];if(c.feature){e=c.feature.geometry.type;var l=void 0;"Polygon"===e||"MultiPolygon"===e?c.contains(t.latlng)&&this.checkForDuplicates(o,c,n):"LineString"===e?(l=c.getBounds(),l&&a.intersects(l)&&this.checkForDuplicates(o,c,n)):"Point"===e&&(l=new U["LatLngBounds"](c._latlng,c._latlng),l&&a.intersects(l)&&this.checkForDuplicates(o,c,n))}}}this.$store.commit("setPopupCoords",t.latlng),this.$store.commit("setIntersectingFeatures",n)},checkForDuplicates:function(t,e,i){for(var a=[],n=0;n<i.length;n++)a[n]=t+"_"+i[n].feature.id;a.includes(t+"_"+e.feature.id)||i.push(e)}}},st=rt,ct=(i("08b7"),Object(C["a"])(st,it,at,!1,null,null,null)),lt=ct.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[i("button",{on:{click:t.handleLocationButtonClick}},[i("span",{staticClass:"button-state state-unnamed-state unnamed-state-active"},[i("font-awesome-icon",{staticClass:"fa-lg",attrs:{icon:this.computedIcon}})],1)])])},ut=[],mt=i("5176"),dt=i.n(mt),ht=i("2924"),ft=(ht["default"].props,ht["default"].methods),_t={name:"LocationControl",props:["position"],data:function(){return{locationOn:!1}},computed:{computedIcon:function(){return this.$config.geolocation&&this.$config.geolocation.icon?this.$config.geolocation.icon:"dot-circle"}},methods:dt()(ft,{handleLocationButtonClick:function(t){var e=this.$store.state.map.watchPositionOn;e?this.moveToPosition():(this.$store.commit("setWatchPositionOn",!0),navigator.geolocation.watchPosition(this.geofindSuccess,this.geofindError,{enableHighAccuracy:!0,timeout:1e3,maximumAge:0,distanceFilter:5}))},geofindSuccess:function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude};this.$store.commit("setLocation",e),this.locationOn||(this.moveToPosition(),this.locationOn=!0)},moveToPosition:function(){var t=this.$store.state.map.map,e=this.$store.state.map.location;t.setView([e.lat,e.lng],19)},geofindError:function(){console.log("GeofindError")}})},vt=_t,gt=Object(C["a"])(vt,pt,ut,!1,null,"1f84c692",null),yt=gt.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[i("button",{on:{click:t.handleImageryToggleButtonClick}},[i("span",{staticClass:"button-state state-unnamed-state unnamed-state-active"},[i("img",{staticClass:"button-image",attrs:{src:t.toggleButtonImgSrc}})])])])},wt=[],Ct=(ht["default"].props,ht["default"].methods),$t={name:"BasemapToggleControl",props:["position"],computed:{toggleButtonImgSrc:function(){var t,e=this.$store.state.map.shouldShowImagery;return t=e?"images/basemap_small.png":"images/imagery_small.png",t}},methods:dt()(Ct,{handleImageryToggleButtonClick:function(t){var e=this.$store.state.map.shouldShowImagery,i=!e;this.$store.commit("setShouldShowImagery",i)}})},Lt=$t,Tt=(i("82e4"),Object(C["a"])(Lt,bt,wt,!1,null,"7d7f589e",null)),Mt=Tt.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowImagery,expression:"shouldShowImagery"}]},[i("select",{attrs:{id:"year-select"},on:{change:t.handleImageryChange}},t._l(t.imageryTypes,function(e,a){return i("optgroup",{attrs:{label:e.label}},t._l(t.basemapsForImageryType(a),function(e){return i("option",{attrs:{"data-key":e.key}},[t._v("\n        "+t._s(e.label)+"\n      ")])}),0)}),0)])},Pt=[],kt=i("a4bb"),St=i.n(kt),Ot=(ht["default"].props,ht["default"].methods),xt={name:"BasemapSelectControl",props:["position"],computed:{shouldShowImagery:function(){return this.$store.state.map.shouldShowImagery},imageryTypes:function(){return this.$config.map.imageryTypes},currentImagery:function(){return this.$store.state.map.imagery}},watch:{currentImagery:function(t){var e=t.replace(/\D/g,""),i=document.getElementById("year-select");i.value=e}},methods:dt()(Ot,{handleImageryChange:function(){var t=document.getElementById("year-select"),e=t.options[t.selectedIndex].parentElement.label,i=t.options[t.selectedIndex].value,a=e.toLowerCase()+i;this.$store.commit("setImagery",a)},basemapsForImageryType:function(t){var e=this.$config.map.basemaps,i=St()(e),a=[],n=!0,o=!1,r=void 0;try{for(var s,c=m()(i);!(n=(s=c.next()).done);n=!0){var l=s.value,p=e[l],u=p.type;if(u===t){var d=p.label;a.push({type:u,label:d})}}}catch(h){o=!0,r=h}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return a}})},Dt=xt,At=Object(C["a"])(Dt,Et,Pt,!1,null,"22bc919a",null),It=At.exports,Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[i("button",{class:this.pictometryActive,on:{click:function(e){return e.preventDefault(),t.handleButtonClick(e)}}},[i("span",{staticClass:"button-state"},[i("img",{staticClass:"button-image",attrs:{src:t.imgSrc}})])])])},Bt=[],zt={name:"PictometryButton",extends:ht["default"],props:["link","imgSrc"],computed:{pictometryActive:function(){return this.$store.state.pictometry.active?"active":"inactive"}},methods:{handleButtonClick:function(t){this.$store.commit("setPictometryActive",!this.$store.state.pictometry.active)}}},Wt=zt,Ht=(i("fd1e"),Object(C["a"])(Wt,Ft,Bt,!1,null,"151685f0",null)),Rt=Ht.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[i("button",{staticClass:"cyclomedia-button",class:this.cyclomediaActive,on:{click:function(e){return e.preventDefault(),t.handleButtonClick(e)}}},[i("span",{staticClass:"button-state"},[i("img",{staticClass:"button-image",attrs:{src:t.imgSrc}})])])])},Gt=[],Nt={name:"CyclomediaButton",extends:ht["default"],props:["link","imgSrc"],created:function(){this.$cyclomediaRecordingsClient=new N(this.$config.cyclomedia.recordingsUrl,this.$config.cyclomedia.username,this.$config.cyclomedia.password,4326)},computed:{cyclomediaInitialized:function(){return this.$store.state.cyclomedia.initialized},cyclomediaActive:function(){return this.$store.state.cyclomedia.active?"active":"inactive"}},methods:{handleButtonClick:function(t){this.cyclomediaInitialized||this.$store.commit("setCyclomediaInitialized",!0);var e=!this.$store.state.cyclomedia.active;this.$store.commit("setCyclomediaActive",e)}}},Ut=Nt,Kt=(i("76ad"),Object(C["a"])(Ut,jt,Gt,!1,null,"f3705e10",null)),Vt=Kt.exports,qt=i("1ce61"),Xt=i.n(qt),Zt={name:"MeasureControl",props:["position"],mounted:function(){this.$leafletElement=this.createLeafletElement()},destroyed:function(){this.$leafletElement._map.removeControl(this.$leafletElement)},render:function(t){},methods:{createLeafletElement:function(){var t=this.$props.position;return new Xt.a({position:t,primaryLengthUnit:"feet",primaryAreaUnit:"sqfeet"})},parentMounted:function(t){var e=t.$leafletElement;e.addControl(this.$leafletElement)}}},Jt=Zt,Yt=Object(C["a"])(Jt,o,r,!1,null,null,null),Qt=Yt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowLegend,expression:"this.shouldShowLegend"}]},[i("div",{staticClass:"legend"},[i("ul",{staticClass:"legend-list"},t._l(this.keys,function(e){return i("li",{staticClass:"legend-listitem",style:"font-size:"+t.items[e]["font-size"]+";"},[i("div",{staticClass:"legend-box",style:"background-color:"+t.items[e]["background-color"]+"; border-color:"+t.items[e]["border-color"]+"; border-style:"+t.items[e]["border-style"]+"; border-width:"+t.items[e]["border-weight"]+"; width:"+t.items[e].width+"; height:"+t.items[e].height+";"}),i("div",{staticClass:"list-text"},[t._v("\n          "+t._s(e)+"\n        ")])])}),0)])])},ee=[],ie=(ht["default"].props,ht["default"].methods),ae={name:"LegendControl",props:["position","options","items"],computed:{keys:function(){return St()(this.$props.items)},activeTopic:function(){return this.$store.state.activeTopic},shouldShowImagery:function(){return this.$store.state.map.shouldShowImagery},shouldShowLegend:function(){var t=!0;return this.$props.options.topics.includes(this.activeTopic)||(t=!1),this.$props.options.showWithBaseMapOnly&&this.shouldShowImagery&&(t=!1),t}},methods:dt()(ie)},ne=ae,oe=(i("18b9"),Object(C["a"])(ne,te,ee,!1,null,null,null)),re=oe.exports,se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"pvm-search-control-container "+this.containerClass,style:this.containerStyle},[i("form",{staticClass:"pvm-search-control-form",attrs:{autocomplete:"off",id:"search-form"},on:{submit:function(e){return e.preventDefault(),t.handleSearchFormSubmit(e)}}},[i("input",{class:"pvm-search-control-input "+this.inputClass,style:this.inputStyle,attrs:{id:t.inputID,placeholder:this.$props.placeholder||"Search the map",tabindex:"0"},domProps:{value:this.addressEntered},on:{keyup:t.didType}})]),""!=this.addressEntered&&null!=this.addressEntered?i("button",{class:"pvm-search-control-button "+this.buttonClass,on:{click:t.handleFormX}},[i("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e(),i("button",{class:"pvm-search-control-button "+this.buttonClass,attrs:{name:"pvm-search-control-button",tabindex:"-1"},on:{click:this.handleSearchFormSubmit}},[i("font-awesome-icon",{attrs:{icon:"search"}})],1),t._t("address-candidates-slot")],2)},ce=[],le=(i("5e0e"),i("308d")),pe=i("6bb5"),ue=i("4e2b"),me=i("ffb2");function de(){return"id-"+Math.random().toString(36).substring(7)}var he,fe,_e=de,ve={name:"MapAddressInput",props:["position","widthFromConfig","placeholder"],data:function(){var t={containerStyle:{width:"305px"},inputStyle:{width:"250px"},inputID:_e(),addressEntered:null};return t},created:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},watch:{addressEntered:function(t){this.handleWindowResize()}},computed:{map:function(){return this.$store.state.map.map},inputWidth:function(){return""===this.addressEntered||null===this.addressEntered?this.$props.widthFromConfig-55:this.$props.widthFromConfig-108},inputClass:function(){return this.isMobileOrTablet?"pvm-input-mobile":"pvm-input-non-mobile"},containerClass:function(){return this.isMobileOrTablet?"pvm-container-mobile":"pvm-container-non-mobile"},buttonClass:function(){return this.isMobileOrTablet?"pvm-button-mobile":"pvm-button-non-mobile"},addressAutocompleteEnabled:function(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet}},methods:{createLeafletElement:function(t){var e=function(e){function i(t,e){var a;return Object(B["a"])(this,i),a=Object(le["a"])(this,Object(pe["a"])(i).call(this,e)),a.el=t,a}return Object(ue["a"])(i,e),Object(z["a"])(i,[{key:"onAdd",value:function(){var e=this.el;return t.DomEvent.disableClickPropagation(e),t.DomEvent.disableScrollPropagation(e),e}}]),i}(t.Control),i=this.$el;return new e(i,{position:this.position})},parentMounted:function(t,e){var i=this.createLeafletElement(U);this.$leafletElement=i;var a=this.map;i.addTo(a)},didType:Object(me["a"])(function(t){var e=t.target.value;if(this.$data.addressEntered=e,this.addressAutocompleteEnabled){if("ArrowDown"===t.key)return void document.getElementById("address-candidate-list-0").focus();this.getCandidates(e),"Enter"!==t.key&&this.$store.commit("setShouldShowAddressCandidateList",!0)}},300),getCandidates:function(t){j.a.get("https://cqvfg1pm72.execute-api.us-east-1.amazonaws.com/dev/first-api-test/",{params:{address:t}}).then(this.didGetCandidates).catch(this.didGetCandidatesError)},didGetCandidates:function(t){var e=t.data.matches,i=e.map(function(t){return t.address});this.$store.commit("setCandidates",i)},didGetCandidatesError:function(t){console.log("error getting candidates",t),this.$store.commit("setCandidates",[])},handleFormX:function(){console.log("handleFormX is running"),this.$data.addressEntered="",this.$store.commit("setShouldShowAddressCandidateList",!1),this.$store.commit("setCandidates",[])},handleSearchFormSubmit:function(){var t;console.log("handleSearchFormSubmit is running"),t=this.addressAutocompleteEnabled?addressEntered:document.querySelector("#"+this.$data.inputID.toString()).value,this.$controller.handleSearchFormSubmit(t)},handleWindowResize:function(){var t=this.addressEntered;window.innerWidth>=850?(this.containerStyle.width=this.$props.widthFromConfig+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-55+"px":this.$props.widthFromConfig-108+"px"):window.innerWidth>=750?(this.containerStyle.width=this.$props.widthFromConfig-100+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-155+"px":this.$props.widthFromConfig-208+"px"):(this.containerStyle.width="300px",this.inputStyle.width=""===t||null===t?"245px":"192px")}}},ge=ve,ye=(i("d47e"),Object(C["a"])(ge,se,ce,!1,null,"292745c8",null)),be=ye.exports,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},Ce=[],$e={name:"PopUp",mounted:function(){var t=this.$leafletElement=this.createLeafletElement();t.on("remove",this.removePopup)},destroyed:function(){this.$leafletElement.removeFrom(this._map)},watch:{intersectingFeatures:function(t){var e=this.$leafletElement=this.createLeafletElement();e.on("remove",this.removePopup)}},computed:{_map:function(){return this.$store.state.map.map},intersectingFeatures:function(){return this.$store.state.map.intersectingFeatures},popupCoords:function(){return this.$store.state.map.popupCoords}},methods:{removePopup:function(){this.$store.commit("setIntersectingFeatures",[])},createLeafletElement:function(){var t=new U["Popup"]({minWidth:300,offset:new U["Point"](0,-24)}).setLatLng(this.popupCoords).setContent(this.$children[0].$el).openOn(this._map);return t}}},Le=$e,Te=Object(C["a"])(Le,we,Ce,!1,null,null,null),Me=Te.exports,Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[this.popupHtmlArray.length>1?i("div",{staticClass:"text-center"},[i("ul",{staticClass:"pagination text-center"},[i("li",{class:this.previousIsDisabled},["pagination-previous"!==this.previousIsDisabled?i("span",[t._v("\n          Previous\n        ")]):t._e(),"pagination-previous"===this.previousIsDisabled?i("a",{on:{click:function(e){return t.changePopup(t.currentPopup-1)}}},[t._v("\n          Previous\n        ")]):t._e()]),this.popupHtmlArrayLength<=9?i("div",{staticClass:"inline-div"},t._l(this.popupHtmlArray,function(e,a){return i("li",{class:t.isCurrent(a)},["current"===t.isCurrent(a)?i("span",[t._v("\n            "+t._s(a+1)+"\n          ")]):t._e(),"current"!==t.isCurrent(a)?i("a",{on:{click:function(e){return t.changePopup(a)}}},[t._v("\n            "+t._s(a+1)+"\n          ")]):t._e()])}),0):t._e(),this.popupHtmlArrayLength>=10?i("div",{staticClass:"inline-div popup-div"},[t._v("\n        "+t._s(t.currentPopup+1)+" of "+t._s(this.popupHtmlArrayLength)+"\n      ")]):t._e(),i("li",{class:this.nextIsDisabled},["pagination-next"!==this.nextIsDisabled?i("span",[t._v("\n          Next\n        ")]):t._e(),"pagination-next"===this.nextIsDisabled?i("a",{on:{click:function(e){return t.changePopup(t.currentPopup+1)}}},[t._v("\n          Next\n        ")]):t._e()])])]):t._e(),i("div",{domProps:{innerHTML:t._s(this.popupHtmlArray[this.currentPopup])}})])},Pe=[],ke={name:"PopUpContent",data:function(){return{currentPopup:0}},mounted:function(){this.$store.commit("setSelectedPopupLayer",this.intersectingFeatures[0])},destroyed:function(){this.$store.commit("setSelectedPopupLayer",null)},watch:{popupHtmlArray:function(t){this.currentPopup=0,this.$store.commit("setSelectedPopupLayer",this.intersectingFeatures[0])}},methods:{changePopup:function(t){this.currentPopup=t,this.$store.commit("setSelectedPopupLayer",this.intersectingFeatures[t])},isCurrent:function(t){return t===this.currentPopup?"current inline-div":"inline-div"}},computed:{previousIsDisabled:function(){return 0===this.currentPopup?"pagination-previous disabled":"pagination-previous"},nextIsDisabled:function(){return this.currentPopup===this.popupHtmlArray.length-1?"pagination-next disabled":"pagination-next"},intersectingFeatures:function(){return this.$store.state.map.intersectingFeatures},popupHtmlArray:function(){var t=[];for(var e in this.$store.state.map.intersectingFeatures)t.push(this.$store.state.map.intersectingFeatures[e].feature.popupHtml);return t},popupHtmlArrayLength:function(){return this.popupHtmlArray.length}}},Se=ke,Oe=(i("7688"),Object(C["a"])(Se,Ee,Pe,!1,null,null,null)),xe=Oe.exports,De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},Ae=[],Ie=i("b6d0"),Fe=i.n(Ie),Be=i("774e"),ze=i.n(Be),We=(i("9db3"),i("e302")),He={name:"WebMap",computed:{webmapId:function(){return this.$config.webmapId}},methods:{parentMounted:function(t){var e=this,i=this,a=this.$store.state.map.map,n="https://www.arcgis.com/sharing/rest/content/items/"+this.webmapId+"/data",o={dataType:"json",webmapId:this.webmapId},r=[];j.a.get(n,{params:o}).then(function(t){var n,o=t.data;n=e.$config.bundled?e.$webMap=We["webMap"](e.webmapId,{map:a}):e.$webMap=L.esri.webMap(e.webmapId,{map:a}),i.$store.commit("setWebMap",n),n.on("load",function(){a.attributionControl.setPrefix('<a target="_blank" href="//www.phila.gov/it/aboutus/units/Pages/GISServicesGroup.aspx">City of Philadelphia | CityGeo</a>');var t=["CityBasemap","CityBasemap_Labels"],e={},s=!0,c=!1,l=void 0;try{for(var p,u=m()(n.layers);!(s=(p=u.next()).done);s=!0){var d=p.value,h=d.title;if(!t.includes(h)&&h.includes("_")){var f=h.split("_")[1];d.layer.service?e[f]=d.layer.service.options.url.replace("https://","").replace("http://","").replace(/\/$/,"").toLowerCase():d.layer._layers&&(e[f]=d.layer._layers[St()(d.layer._layers)[0]].service.options.url.replace("https://","").replace("http://","").replace(/\/$/,"").toLowerCase())}}}catch(E){c=!0,l=E}finally{try{s||null==u.return||u.return()}finally{if(c)throw l}}i.$store.commit("setLayerUrls",e);var _=o.operationalLayers,v=!0,g=!1,y=void 0;try{for(var b,w=function(){var t=b.value;if("CityBasemap"===t.title)return"continue";var e=void 0,i=!0,a=!1,n=void 0;try{for(var o,s=m()(_);!(i=(o=s.next()).done);i=!0){var c=o.value;c.title===t.title&&(e=c)}}catch(E){a=!0,n=E}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}var l="https://www.arcgis.com/sharing/rest/content/items/"+e.itemId,p=_e(),u={category:t.title.split("_")[0],title:t.title.split("_")[1],layer:t.layer,id:p,serviceItemId:null,rest:e,opacity:e.opacity,type:e.layerType,type2:t.type,legend:null,tags:null,tagsString:null},d={};e.itemId?L.esri.request(l,d,function(t,e){if(t)r.push(u),r.sort(function(t,e){var i=t.title.toLowerCase(),a=e.title.toLowerCase();return i<a?-1:i>a?1:0});else{var i=e.tags.map(function(t){return"string"===typeof t?t.toLowerCase():t}),a=ze()(new Fe.a(i));u.tags=a,u.tagsString=e.tags.join(),r.push(u),r.sort(function(t,e){var i=t.title.toLowerCase(),a=e.title.toLowerCase();return i<a?-1:i>a?1:0})}}):(r.push(u),r.sort(function(t,e){var i=t.title.toLowerCase(),a=e.title.toLowerCase();return i<a?-1:i>a?1:0}))},C=m()(n.layers);!(v=(b=C.next()).done);v=!0)w()}catch(E){g=!0,y=E}finally{try{v||null==C.return||C.return()}finally{if(g)throw y}}for(var $=[""],T=0;T<r.length;T++){var M=r[T];$.includes(M.category)||$.push(M.category)}$.sort(function(t,e){var i=t.toLowerCase(),a=e.toLowerCase();return i<a?-1:i>a?1:0}),i.$store.commit("setWebMapLayersAndRest",r),i.$store.commit("setCategories",$),a.createPane("highlightOverlay")})},function(t){console.log("AXIOS ERROR WebMap.vue")})}}},Re=He,je=Object(C["a"])(Re,De,Ae,!1,null,null,null),Ge=je.exports,Ne={name:"WebMapLayer",props:["layer","layerName","layerDefinition","opacity","type"],data:function(){return{geometryType:null}},watch:{opacity:function(t){this.changeOpacity(t)},geometryType:function(t){if("esriGeometryPoint"===t)if(this.$leafletElement.metadata)this.$leafletElement.on("click",function(t){L.DomEvent.stopPropagation(t)}),this.$leafletElement.on("click",this.clickHandler);else if(this.$leafletElement._layers[St()(this.$leafletElement._layers)[0]].metadata)for(var e=St()(this.$leafletElement._layers),i=0;i<e.length;i++){for(var a=e[i],n=St()(this.$leafletElement._layers[a]._layers),o=0;o<n.length;o++){var r=n[o];this.$leafletElement._layers[a]._layers[r].options.bubblingMouseEvents=!1}this.$leafletElement._layers[a].on("click",function(t){L.DomEvent.stopPropagation(t)}),this.$leafletElement._layers[a].on("click",this.clickHandler)}}},computed:{scale:function(){return this.$store.state.map.scale}},created:function(){this.$leafletElement=this.layer;this.layer.metadata?this.layer.metadata(function(t,e){this.geometryType=e.geometryType},this):this.layer._layers[St()(this.layer._layers)[0]].metadata&&this.layer._layers[St()(this.layer._layers)[0]].metadata(function(t,e){this.geometryType=e.geometryType},this)},mounted:function(){var t=this.$store.state.map.map;t&&this.$leafletElement.addTo(t)},destroyed:function(){this.$leafletElement._map.removeLayer(this.$leafletElement)},render:function(t){},methods:{parentMounted:function(t){var e=t.$leafletElement;this.$leafletElement.addTo(e)},changeOpacity:function(t){var e;e=this.$leafletElement.legend?this.$leafletElement:this.$leafletElement._layers[St()(this.$leafletElement._layers)[0]],"FL"!=this.$props.type?e.setOpacity(t):e.eachFeature(function(e){if(e._icon){var i=e._icon.attributes.style.nodeValue,a=i.slice(0,i.indexOf("; opacity")),n=a.concat("; opacity:",t,"; fill-opacity:",t,";");e._icon.attributes.style.nodeValue=n}else e._path&&(0===e.options.fillOpacity?e.setStyle({opacity:t}):0===e.options.opacity?e.setStyle({fillOpacity:t}):e.setStyle({opacity:t,fillOpacity:t}))})},clickHandler:function(t){var e,i=this.$store.state.map.map,a=new U["LatLngBounds"](t.layer._latlng,t.layer._latlng),n=[];for(var o in i._layers){var r=i._layers[o];if(r._layers)for(var s in r._layers){var c=r._layers[s];if(c.feature){e=c.feature.geometry.type;var l=void 0;"Polygon"===e||"MultiPolygon"===e?c.contains(t.latlng)&&this.checkForDuplicates(o,c,n):"LineString"===e?(l=c.getBounds(),l&&a.intersects(l)&&this.checkForDuplicates(o,c,n)):"Point"===e&&(l=new U["LatLngBounds"](c._latlng,c._latlng),l&&a.intersects(l)&&this.checkForDuplicates(o,c,n))}}}this.$store.commit("setPopupCoords",t.latlng),this.$store.commit("setIntersectingFeatures",n)},checkForDuplicates:function(t,e,i){for(var a=[],n=0;n<i.length;n++)a[n]=t+"_"+i[n].feature.id;a.includes(t+"_"+e.feature.id)||i.push(e)}}},Ue=Ne,Ke=Object(C["a"])(Ue,he,fe,!1,null,null,null),Ve=Ke.exports,qe={name:"MapPanel",mixins:[O,x,D],components:{Control:function(){return Promise.resolve().then(i.bind(null,"2924"))},MapAddressCandidateList:function(){return i.e("lbmp_pvm_MapAddressCandidateList").then(i.bind(null,"b1d2"))},EsriTiledMapLayer:function(){return Promise.all([i.e("lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63"),i.e("lbmp_pvm_EsriTiledMapLayer")]).then(i.bind(null,"0889"))},EsriTiledOverlay:function(){return Promise.all([i.e("lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63"),i.e("lbmp_pvm_EsriTiledOverlay")]).then(i.bind(null,"199d"))},EsriDynamicMapLayer:function(){return Promise.all([i.e("lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63"),i.e("lbmp_pvm_EsriDynamicMapLayer")]).then(i.bind(null,"e8a3"))},EsriFeatureLayer:function(){return Promise.all([i.e("lbmp_pvm_EsriDynamicMapLayer~lbmp_pvm_EsriFeatureLayer~lbmp_pvm_EsriTiledMapLayer~lbmp_pvm_EsriTiled~964e9c63"),i.e("lbmp_pvm_EsriFeatureLayer")]).then(i.bind(null,"a0bd"))},EsriWebMap:Ge,EsriWebMapLayer:Ve,ModalAbout:function(){return i.e("lbmp_pvm_ModalAbout").then(i.bind(null,"8d02"))},Geojson:function(){return i.e("lbmp_pvm_Geojson").then(i.bind(null,"dd5f"))},CircleMarker:function(){return i.e("lbmp_pvm_CircleMarker").then(i.bind(null,"a793"))},VectorMarker:function(){return i.e("lbmp_pvm_VectorMarker").then(i.bind(null,"5ad6"))},PngMarker:function(){return i.e("lbmp_pvm_PngMarker").then(i.bind(null,"66d7"))},CyclomediaRecordingCircle:function(){return i.e("lbmp_pvm_CyclomediaRecordingCircle").then(i.bind(null,"c30c"))},SvgViewConeMarker:function(){return i.e("lbmp_pvm_CyclomediaSvgViewConeMarker").then(i.bind(null,"e830"))},BasemapTooltip:function(){return i.e("lbmp_pvm_BasemapTooltip").then(i.bind(null,"56f5"))},ControlCorner:X,FullScreenMapToggleTab:et,Map_:lt,LocationControl:yt,BasemapToggleControl:Mt,BasemapSelectControl:It,PictometryButton:Rt,CyclomediaButton:Vt,MeasureControl:Qt,LegendControl:re,MapAddressInput:be,PopUp:Me,PopUpContent:xe,Polygon_:function(){return i.e("lbmp_pvm_Polygon_").then(i.bind(null,"2e5a"))},Polyline_:function(){return i.e("lbmp_pvm_Polyline_").then(i.bind(null,"f4a8"))}},mounted:function(){this.$controller.appDidLoad()},computed:{mapCenter:function(){return this.$store.state.map.center},addressAutocompleteEnabled:function(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},addressInputPosition:function(){return this.isMobileOrTablet?"topleft":"topalmostleft"},addressInputWidth:function(){return this.$config.addressInput?this.$config.addressInput.mapWidth:415},addressInputPlaceholder:function(){return this.$config.addressInput?this.$config.addressInput.placeholder:null},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},windowWidth:function(){return this.$store.state.windowWidth},activeTopic:function(){return this.$store.state.activeTopic},activeTopicConfig:function(){var t,e=this.activeTopic;this.createdComplete;return e&&this.$config&&(t=this.$config.topics.filter(function(t){return t.key===e})[0]),t||{}},activeTopicLayers:function(){return this.activeTopicConfig.components[0].options.topicLayers},mapPanelContainerClass:function(){return this.fullScreenMapEnabled?"medium-24 small-order-1 small-24 medium-order-2 mb-panel mb-panel-map":this.windowWidth>=950?"medium-16 small-order-1 small-24 medium-order-2 mb-panel mb-panel-map":"medium-14 small-order-1 small-24 medium-order-2 mb-panel mb-panel-map"},cycloLatlng:function(){if(null!==this.$store.state.cyclomedia.orientation.xyz){var t=this.$store.state.cyclomedia.orientation.xyz;return[t[1],t[0]]}var e=this.$config.map.center;return e},cycloRotationAngle:function(){return 57.29577951307855*this.$store.state.cyclomedia.orientation.yaw},cycloHFov:function(){return this.$store.state.cyclomedia.orientation.hFov},shouldShowCyclomediaButton:function(){return this.$config.cyclomedia.enabled&&!this.isMobileOrTablet},shouldShowPictometryButton:function(){return this.$config.pictometry.enabled&&!this.isMobileOrTablet},shouldShowPopup:function(){return this.intersectingFeatures.length>0},selectedPopupLayer:function(){return this.$store.state.map.selectedPopupLayer},selectedPopupLayerGeometryType:function(){return this.selectedPopupLayer?this.selectedPopupLayer.feature.geometry.type:null},selectedPopupLayerCoordinates:function(){return"Point"===this.selectedPopupLayerGeometryType||"LineString"===this.selectedPopupLayerGeometryType?this.selectedPopupLayer.feature.geometry.coordinates:"Polygon"===this.selectedPopupLayerGeometryType?this.selectedPopupLayer.feature.geometry.coordinates[0]:"MultiPolygon"===this.selectedPopupLayerGeometryType?this.selectedPopupLayer.feature.geometry.coordinates:void 0},selectedPopupLayerCoordinatesFlipped:function(){return"Point"===this.selectedPopupLayerGeometryType?this.flipCoords(this.selectedPopupLayerCoordinates):"MultiPolygon"!==this.selectedPopupLayerGeometryType?this.flipCoordsArray(this.selectedPopupLayerCoordinates):this.flipCoordsMultiPolygon(this.selectedPopupLayerCoordinates)},intersectingFeatures:function(){return this.$store.state.map.intersectingFeatures},geolocationEnabled:function(){return this.$config.geolocation.enabled},scale:function(){return this.$store.state.map.scale},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},activeBasemap:function(){var t=this.$store.state.map.shouldShowImagery;if(t)return this.$store.state.map.imagery;var e=this.$config.map.defaultBasemap,i=this.$store.state.map.basemap||e;return i},activeTiles:function(){return this.$config.map.basemaps[this.activeBasemap]?this.$config.map.basemaps[this.activeBasemap].tiledLayers:[]},basemaps:function(){return k()(this.$config.map.basemaps)},shouldShowImageryToggle:function(){return this.hasImageryBasemaps&&this.$config.map.imagery.enabled},imageryBasemaps:function(){return this.basemaps.filter(function(t){return"imagery"===t.type})},hasImageryBasemaps:function(){return this.imageryBasemaps.length>0},imageryYears:function(){return this.imageryBasemaps.map(function(t){return t.year})},historicBasemaps:function(){return this.basemaps.filter(function(t){return"historic"===t.type})},hasHistoricBasemaps:function(){return this.historicBasemaps.length>0},historicYears:function(){return this.historicBasemaps.map(function(t){return t.year})},geocodeResult:function(){return this.$store.state.geocode.data},geocodeGeom:function(){return(this.geocodeResult||{}).geometry},picOrCycloActive:function(){return!(!this.cyclomediaActive&&!this.pictometryActive)},measureControlEnabled:function(){return!1!==this.$config.measureControlEnabled}},created:function(){var t=this.$config.defaultAddress;t&&this.$controller.goToDefaultAddress(t);var e=this.$config.cyclomedia||{};e.enabled&&(this.$cyclomediaRecordingsClient=new N(this.$config.cyclomedia.recordingsUrl,this.$config.cyclomedia.username,this.$config.cyclomedia.password,4326))},watch:{picOrCycloActive:function(t){var e=this;this.$nextTick(function(){e.$store.state.map.map.invalidateSize()})}},methods:{flipCoords:function(t){return[t[1],t[0]]},flipCoordsArray:function(t){var e=[];for(var i in t)e[i]=[t[i][1],t[i][0]];return e},flipCoordsMultiPolygon:function(t){var e=[];for(var i in t){var a=[];for(var n in t[i][0])a[n]=[t[i][0][n][1],t[i][0][n][0]];e[i]=a}return e},shouldShowFeatureLayer:function(t){if(!t.rest.layerDefinition)return!(!this.webMapActiveLayers.includes(t.title)||!this.activeTopicLayers.includes(t.title));if(t.rest.layerDefinition.minScale){if(this.scale<=t.rest.layerDefinition.minScale&&this.webMapActiveLayers.includes(t.title)&&this.activeTopicLayers.includes(t.title))return!0}else if(t.rest.layerDefinition.drawingInfo&&this.webMapActiveLayers.includes(t.title)&&this.activeTopicLayers.includes(t.title))return!0},handleMapClick:function(){document.getElementsByClassName("pvm-search-control-input")[0].blur()},handleButtonClick:function(){document.getElementsByClassName("pvm-search-control-input")[0].blur()},handleMapMove:function(t){var e=this.$store.state.map.map,i=this.$config.pictometry||{},a=e.getCenter(),n=a.lat,o=a.lng,r=[o,n],s=e.getZoom();this.$store.commit("setMapZoom",s);var c=this.$config.map.scales[s];if(this.$store.commit("setMapScale",c),i.enabled){this.$store.commit("setPictometryMapCenter",r);var l=e.getZoom();this.$store.commit("setPictometryMapZoom",l)}var p=this.$config.cyclomedia||{};p.enabled&&(this.updateCyclomediaRecordings(),this.$store.commit("setCyclomediaLatLngFromMap",[n,o]))}}},Xe=qe,Ze=(i("5882"),Object(C["a"])(Xe,M,E,!1,null,"700f5e30",null)),Je=Ze.exports,Ye={name:"Layerboard",components:{TopicPanel:T,MapPanel:Je,CyclomediaWidget:function(){return i.e("mbmb_pvm_CyclomediaWidget").then(i.bind(null,"3606"))},PictometryWidget:function(){return i.e("mbmb_pvm_PictometryWidget").then(i.bind(null,"8314"))},PictometryLayer:function(){return i.e("mbmb_pvm_PictometryLayer").then(i.bind(null,"beeb"))},PictometryPngMarker:function(){return i.e("mbmb_pvm_PictometryPngMarker").then(i.bind(null,"f37b"))},PictometryViewCone:function(){return i.e("mbmb_pvm_PictometryViewCone").then(i.bind(null,"bbc0"))}},mounted:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize();var t=this.$store,e="https://api.knackhq.com/v1/objects/object_4/records/export?type=json",i={},a={"X-Knack-Application-Id":"550c60d00711ffe12e9efc64","X-Knack-REST-API-Key":"7bce4520-28dc-11e5-9f0a-4d758115b820"};h.a.get(e,{params:i,headers:a}).then(function(e){var i=e.data,a=i.records,n=a.filter(function(t){return"API"===t.field_12||"GeoService"===t.field_12}),o={},r=!0,s=!1,c=void 0;try{for(var l,p=m()(n);!(r=(l=p.next()).done);r=!0){var u=l.value,d=u.field_25.split('"')[1],h=void 0;h=d?d.split("query")[0].replace("https://","").replace("http://","").replace(/\/$/,"").toLowerCase():null,u.field_13_raw.length>0?o[h]=u.field_13_raw[0].id:o[h]=""}}catch(f){s=!0,c=f}finally{try{r||null==p.return||p.return()}finally{if(s)throw c}}t.commit("setBennyEndpoints",o)},function(t){console.log("AXIOS ERROR Layerboard.vue")})},computed:{isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},shouldLoadCyclomediaWidget:function(){return this.$config.cyclomedia.enabled&&!this.isMobileOrTablet},shouldLoadPictometryWidget:function(){return this.$config.pictometry.enabled&&!this.isMobileOrTablet},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},cycloLatlng:function(){if(null!==this.$store.state.cyclomedia.orientation.xyz){var t=this.$store.state.cyclomedia.orientation.xyz;return[t[1],t[0]]}var e=this.$config.map.center;return e},cycloRotationAngle:function(){return 57.29577951307855*this.$store.state.cyclomedia.orientation.yaw},cycloHFov:function(){return this.$store.state.cyclomedia.orientation.hFov},pictometryActive:function(){return this.$store.state.pictometry.active},pictometryZoom:function(){return this.$store.state.pictometry.zoom},pictometryShowAddressMarker:function(){return!(!this.pictometryActive||!this.geocodeData)&&!(this.pictometryZoom<20&&this.cyclomediaActive)},geocodeData:function(){return this.$store.state.geocode.data},ak:function(){var t=window.location.hostname;return"atlas.phila.gov"===t?this.$config.pictometry.apiKey:"atlas-dev.phila.gov"===t?this.$config.pictometryDev.apiKey:"cityatlas.phila.gov"===t?this.$config.pictometryCity.apiKey:"cityatlas-dev.phila.gov"===t?this.$config.pictometryCityDev.apiKey:"10.8.101.67"===t?this.$config.pictometryLocal.apiKey:void 0},sk:function(){var t=window.location.hostname;return"atlas.phila.gov"===t?this.$config.pictometry.secretKey:"atlas-dev.phila.gov"===t?this.$config.pictometryDev.secretKey:"cityatlas.phila.gov"===t?this.$config.pictometryCity.secretKey:"cityatlas-dev.phila.gov"===t?this.$config.pictometryCityDev.secretKey:"10.8.101.67"===t?this.$config.pictometryLocal.secretKey:void 0},windowWidth:function(){return this.$store.state.windowWidth},windowHeight:function(){return this.$store.state.windowSize.height},didToggleTopicsOn:function(){return this.$store.state.didToggleTopicsOn},buttonMessage:function(){return this.didToggleTopicsOn?"See Map":"See Datasets"},shouldShowTopics:function(){return this.$store.state.shouldShowTopics},shouldShowMap:function(){return this.$store.state.shouldShowMap}},watch:{pictometryShowAddressMarker:function(t){},windowWidth:function(t){this.calculateShouldShowTopics(),this.calculateShouldShowMap()},fullScreenMapEnabled:function(t){this.calculateShouldShowTopics(),this.calculateShouldShowMap()},didToggleTopicsOn:function(t){this.calculateShouldShowTopics(),this.calculateShouldShowMap()},shouldShowTopics:function(t){this.handleWindowResize()},shouldShowMap:function(t){this.handleWindowResize()}},methods:{toggleTopics:function(){var t=this.$store.state.didToggleTopicsOn;this.$store.commit("setDidToggleTopicsOn",!t)},calculateShouldShowTopics:function(){var t=this.windowWidth,e=t<750,i=this.$store.state.didToggleTopicsOn,a=this.$store.state.fullScreenMapEnabled,n=!e&&!a||e&&i;this.$store.commit("setShouldShowTopics",n)},calculateShouldShowMap:function(){var t=this.windowWidth,e=t>750,i=this.$store.state.didToggleTopicsOn,a=e||!i;this.$store.commit("setShouldShowMap",a)},handleWindowResize:function(){var t=document.getElementById("mb-root"),e=window.getComputedStyle(t),i=e.getPropertyValue("width"),a=p()(i.replace("px",""));this.$store.commit("setWindowWidth",a)}}},Qe=Ye,ti=(i("b434"),Object(C["a"])(Qe,s,c,!1,null,null,null));e["a"]=ti.exports},"3db9":function(t,e,i){"use strict";i.d(e,"a",function(){return m});var a=i("bd86"),n=i("a4bb"),o=i.n(n),r=(i("94ed"),i("5176")),s=i.n(r),c=i("a745"),l=i.n(c),p=i("7618");function u(t){return t&&"object"===Object(p["a"])(t)&&!l()(t)&&null!==t}function m(t,e){var i=s()({},t);return u(t)&&u(e)&&o()(e).forEach(function(n){u(e[n])&&n in t?i[n]=m(t[n],e[n]):s()(i,Object(a["a"])({},n,e[n]))}),i}},4001:function(t,e,i){},4901:function(t,e,i){"use strict";var a=i("aeac"),n=i.n(a);n.a},"4a6c":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("28a5"),i("4917");var a=i("2b0e"),n=i("02b3"),o=i("77a1"),r=(i("0ad3"),i("92e7"),i("855c"),i("ecee")),s=i("7948"),c=i("a95a"),l=i("815b"),p=i("5c52"),u=(i("bc3a"),i("6d91")),m={key:"pave",icon:"road",label:"Paving",components:[{type:"checkbox-set",options:{topicLayers:["Paving Plan 2015"]}}]},d={key:"snow",icon:"snowflake",label:"Snow",components:[{type:"checkbox-set",options:{topicLayers:["Current Lane Closures","Vending Prohibited Streets"]}}]},h={key:"pickup",icon:"trash-alt",label:"Pickup",components:[{type:"checkbox-set",options:{topicLayers:["No-thru-Trucks Streets","Historic Streets"]}}]},f={key:"permit",icon:"scroll",label:"Permit",components:[{type:"checkbox-set",options:{topicLayers:["Bikeable Trails","Bike Network"]}}]};i("6cc5"),i("f33c"),i("0bcb");a["a"].config.devtools=!0,L.esri=n,L.esri.Renderers=o,r["a"].add(s["faSnowflake"],c["faScroll"],l["faTrashAlt"],p["faRoad"]);var _=location,v=_.hostname,g=void 0===v?"":v;"localhost"===g||g.match(/(\d+\.){3}\d+/)||(console.log=console.info=console.debug=console.error=function(){}),window.openHelp=function(){var t=window.location.hash;console.log("setHash is running, firstHash:",t);var e=t.split("/").slice(2);console.log("firstHashArr:",e);for(var i="#/help",a=0;a<e.length;a++)i=i+"/"+e[a];window.location.hash=i};var y="https://cdn.jsdelivr.net/gh/ajrothwell/openmaps-base-config@ba14a53156e85ca8e655fc85cc83dd24d7323ef2/config.js",b="ec8681f792812d7e3ff15e9094bfd4ad",w="aa2a8e9145f04998895d505b4ed2afa5";Object(u["a"])({bundled:!0,router:{enabled:!0},geolocation:{enabled:!0,icon:["far","dot-circle"]},addressInput:{width:415,mapWidth:300,position:"right",autocompleteEnabled:!1,autocompleteMax:15,placeholder:"Search the map"},map:{defaultBasemap:"pwd",defaultIdentifyFeature:"address-marker",imagery:{enabled:!0},historicBasemaps:{enabled:!0},center:[-75.16347348690034,39.952562122622254],clickToIdentifyFeatures:!0,containerClass:"map-container-type2"},cyclomedia:{enabled:!0,measurementAllowed:!1,popoutAble:!0},pictometry:{enabled:!1},gatekeeperKey:b,baseConfig:y,webmapId:w,topics:[m,d,h,f],components:[{type:"topic-set",options:{defaultTopic:"property"}}],modals:["help"]})},5882:function(t,e,i){"use strict";var a=i("6452"),n=i.n(a);n.a},"63d0":function(t,e,i){"use strict";var a=i("b8dc"),n=i.n(a);n.a},6452:function(t,e,i){},"6a0c":function(t,e,i){"use strict";var a=i("b669"),n=i("511e"),o=function(){var t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,i=navigator.userAgent||navigator.vendor||window.opera||"",a=t.test(i)||e.test(i.substr(0,4));return a},r=i("7db4"),s={map:{center:[-75.163471,39.953338],zoom:18}},c={activeTopic:"",shouldShowAddressCandidateList:!1,map:{location:{lat:null,lng:null},center:s.map.center,bounds:{_northEast:{lat:null,lng:null},_southWest:{lat:null,lng:null}},zoom:s.map.zoom,boundsBasedOnShape:null,map:null,basemap:"",imagery:"imagery2018",shouldShowImagery:!1,imageOverlay:null,imageOverlayOpacity:null,filters:[],watchPositionOn:!1},cyclomedia:{initialized:!1,navBarOpen:!1,latLngFromMap:null,orientation:{yaw:null,hFov:null,xyz:null},active:!1,recordings:[]},pictometry:{ipa:null,active:!1,shapeIds:[],pngMarkerIds:[],zoom:null,map:{center:s.map.center,zoom:s.map.zoom}}},l={state:c,mutations:{setWatchPositionOn:function(t,e){t.map.watchPositionOn=e},setLocation:function(t,e){t.map.location.lat=e.lat,t.map.location.lng=e.lng},setActiveTopic:function(t,e){t.activeTopic=e},setMapZoom:function(t,e){t.map.zoom=e},setImagery:function(t,e){t.map.imagery=e},setShouldShowImagery:function(t,e){t.map.shouldShowImagery=e},setShouldShowAddressCandidateList:function(t,e){t.shouldShowAddressCandidateList=e},setCyclomediaInitialized:function(t,e){t.cyclomedia.initialized=e},setPictometryActive:function(t,e){t.pictometry.active=e},setCyclomediaActive:function(t,e){t.cyclomedia.active=e},setCyclomediaYaw:function(t,e){t.cyclomedia.orientation.yaw=e},setCyclomediaHFov:function(t,e){t.cyclomedia.orientation.hFov=e},setCyclomediaXyz:function(t,e){t.cyclomedia.orientation.xyz=e},setCyclomediaRecordings:function(t,e){t.cyclomedia.recordings=e},setCyclomediaLatLngFromMap:function(t,e){t.cyclomedia.latLngFromMap=e},setCyclomediaNavBarOpen:function(t,e){t.cyclomedia.navBarOpen=e},setPictometryIpa:function(t,e){t.pictometry.ipa=e},setPictometryShapeIds:function(t,e){t.pictometry.shapeIds=e},setPictometryPngMarkerIds:function(t,e){t.pictometry.pngMarkerIds=e},setPictometryMapCenter:function(t,e){t.pictometry.map.center=e},setPictometryMapZoom:function(t,e){t.pictometry.map.zoom=e},setPictometryZoom:function(t,e){t.pictometry.zoom=e},setMap:function(t,e){t.map.map=e.map}}},p=l,u={shouldShowAddressCandidateList:!1,popover:{open:!1,text:"",options:{}},fullScreenTopicsEnabled:!1},m={state:u,mutations:{setShouldShowAddressCandidateList:function(t,e){t.shouldShowAddressCandidateList=e},setPopoverOpen:function(t,e){t.popover.open=e},setPopoverText:function(t,e){t.popover.text=e},setPopoverOptions:function(t,e){t.popover.options=e},setFullScreenTopicsEnabled:function(t,e){t.fullScreenTopicsEnabled=e}}},d=m,h=i("3db9");function f(t){var e={isMobileOrTablet:o(),fullScreenMapEnabled:!1,bennyEndpoints:{},layers:{layerUrls:{},inputLayerFilter:"",inputTagsFilter:""},map:{scale:null,webMap:null,webMapUrlLayer:null,webMapActiveLayers:[],webMapDisplayedLayers:[],webMapLayersAndRest:[],intersectingFeatures:[],popupCoords:null,selectedPopupLayer:null,categories:[],selectedCategory:""},candidates:[],addressEntered:null,didToggleTopicsOn:!1,shouldShowTopics:!0,shouldShowMap:!0,windowWidth:0,route:null,modals:{keys:t.modals,open:""}},i={state:e,getters:{},mutations:{setIsMobileOrTablet:function(t,e){t.isMobileOrTablet=e},setFullScreenMapEnabled:function(t,e){t.fullScreenMapEnabled=e},setCategories:function(t,e){t.map.categories=e},setSelectedCategory:function(t,e){t.map.selectedCategory=e},setSelectedPopupLayer:function(t,e){t.map.selectedPopupLayer=e},setIntersectingFeatures:function(t,e){t.map.intersectingFeatures=e},setPopupCoords:function(t,e){t.map.popupCoords=e},setBennyEndpoints:function(t,e){t.bennyEndpoints=e},setLocation:function(t,e){t.map.location.lat=e.lat,t.map.location.lng=e.lng},setWatchPositionOn:function(t,e){t.map.watchPositionOn=e},setLayerUrls:function(t,e){t.layers.layerUrls=e},setInputLayerFilter:function(t,e){t.layers.inputLayerFilter=e},setInputTagsFilter:function(t,e){t.layers.inputTagsFilter=e},setMap:function(t,e){t.map.map=e.map},setWebMap:function(t,e){t.map.webMap=e},setWebMapUrlLayer:function(t,e){t.map.webMapUrlLayer=e},setWebMapActiveLayers:function(t,e){t.map.webMapActiveLayers=e},setWebMapDisplayedLayers:function(t,e){t.map.webMapDisplayedLayers=e},setWebMapLayersAndRest:function(t,e){t.map.webMapLayersAndRest=e},setWebMapLayersOpacity:function(t,e){t.map.webMapLayersAndRest.filter(function(t){return t.title===e.layerName})[0].opacity=e.opa},setLegend:function(t,e){t.map.webMapLayersAndRest.filter(function(t){return t.title===e.layerName})[0].legend=e.legend},setMapScale:function(t,e){t.map.scale=e},setDidToggleTopicsOn:function(t,e){t.didToggleTopicsOn=e},setShouldShowTopics:function(t,e){t.shouldShowTopics=e},setShouldShowMap:function(t,e){t.shouldShowMap=e},setWindowWidth:function(t,e){t.windowWidth=e},setRoute:function(t,e){t.route=e},setDidToggleModal:function(t,e){t.modals.open=e},setCandidates:function(t,e){t.candidates=e},setAddressEntered:function(t,e){t.addressEntered=e}}},a=Object(h["a"])(d,r["a"].store);return a=Object(h["a"])(a,p),a=Object(h["a"])(a,i),a.state.map.center=t.map.center,a.state.map.zoom=t.map.zoom,a.state.pictometry.map.center=t.map.center,a.state.pictometry.map.zoom=t.map.zoom,new n["a"].Store({state:a.state,getters:a.getters,mutations:a.mutations})}a["a"].use(n["a"]);e["a"]=f},"6bf5":function(t,e,i){},"6d91":function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b669"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2bd0"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__),_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("6a0c"),_util_config_mixin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("9df2"),_components_Layerboard_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3cfc"),_util_merge_deep__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3db9"),_fa_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("e17d"),_fortawesome_vue_fontawesome__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("fe02"),_philly_vue_datafetch_src_controller_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("ae3e");function initLayerboard(clientConfig){var baseConfigUrl=clientConfig.baseConfig;return axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(baseConfigUrl).then(function(response){var data=response.data,baseConfigFn=eval(data),gatekeeperKey=clientConfig.gatekeeperKey,baseConfig=baseConfigFn({gatekeeperKey:gatekeeperKey}),config=Object(_util_merge_deep__WEBPACK_IMPORTED_MODULE_5__["a"])(baseConfig,clientConfig);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_util_config_mixin__WEBPACK_IMPORTED_MODULE_3__["a"],config);var store=Object(_store__WEBPACK_IMPORTED_MODULE_2__["a"])(config);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_philly_vue_datafetch_src_controller_index_js__WEBPACK_IMPORTED_MODULE_8__["a"],{config:config,store:store}),vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("font-awesome-icon",_fortawesome_vue_fontawesome__WEBPACK_IMPORTED_MODULE_7__["a"]);var vm=new vue__WEBPACK_IMPORTED_MODULE_0__["a"]({el:config.el||"#layerboard",render:function(t){return t(_components_Layerboard_vue__WEBPACK_IMPORTED_MODULE_4__["a"])},store:store})},function(t){console.error("AXIOS ERROR loading base config")})}__webpack_exports__["a"]=initLayerboard},"70df":function(t,e,i){"use strict";var a=i("ad31"),n=i.n(a);n.a},7688:function(t,e,i){"use strict";var a=i("3500"),n=i.n(a);n.a},"76ad":function(t,e,i){"use strict";var a=i("4001"),n=i.n(a);n.a},"7b0b":function(t,e,i){"use strict";var a=i("182a"),n=i.n(a);n.a},"82e4":function(t,e,i){"use strict";var a=i("6bf5"),n=i.n(a);n.a},"9df2":function(t,e,i){"use strict";e["a"]=function(t,e){t.mixin({created:function(){this.$config=e}})}},a781:function(t,e,i){"use strict";var a=i("bdf1"),n=i.n(a);n.a},ad31:function(t,e,i){},aeac:function(t,e,i){},b40f:function(t,e,i){},b434:function(t,e,i){"use strict";var a=i("4a6c"),n=i.n(a);n.a},b8dc:function(t,e,i){},bdf1:function(t,e,i){},c471:function(t,e,i){"use strict";var a=i("d89e"),n=i.n(a);n.a},d245:function(t,e,i){},d47e:function(t,e,i){"use strict";var a=i("d245"),n=i.n(a);n.a},d89e:function(t,e,i){},e17d:function(t,e,i){"use strict";var a=i("79c7"),n=i("71d6"),o=i("3576"),r=i("22c7"),s=i("e730"),c=i("1d6f"),l=i("1997");a["a"].add(n["faExternalLinkAlt"],o["faSearch"],r["faTimes"],s["faTimesCircle"],c["faCaretLeft"],l["faCaretRight"]);a["a"];var p=i("2f76"),u=i("7238"),m=i("f511"),d=i("e6bd"),h=i("ae93"),f=i("208f"),_=i("bd88");p["a"].watch(),p["b"].add(m["faSearch"],d["faTimes"],h["faMapMarkerAlt"],u["faDotCircle"],f["faCaretLeft"],_["faCaretRight"]);p["b"];var v=i("a08a"),g=i("cea0"),y=i("5749"),b=i("357c"),w=i("f028"),C=i("1110");v["c"].add(g["faSpinner"],y["faInfoCircle"],b["faCheckSquare"],w["faFilter"],C["faSquare"]);v["c"]},e95e:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldShowTopic?i("div",[t.shouldShowHeader?i("a",{staticClass:"topic-header",attrs:{href:"#","data-topic-key":t.topicKey},on:{click:function(e){return e.preventDefault(),t.handleTopicHeaderClick(e)}}},[i("div",{staticClass:"topic-header-content"},[i("font-awesome-icon",{attrs:{icon:t.icon}}),i("div",{staticClass:"topic-header-label-holder"},[t._v("\n        "+t._s(t.topic.label)+"\n      ")])],1),i("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.status,expression:"status === 'waiting'"}],staticClass:"loading"},[i("font-awesome-icon",{staticClass:"fa-lg spin",attrs:{icon:"spinner"}})],1)]):t._e(),i("transition",{attrs:{name:"topic-body"}},[t.shouldShowBody?i("div",{staticClass:"topic-body",attrs:{"data-topic-key":t.topicKey}},[i("topic-component-group",{attrs:{"topic-components":t.topic.components}})],1):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowError,expression:"shouldShowError"}],staticClass:"topic-body",domProps:{innerHTML:t._s(this.errorMessage)}})],1):t._e()},n=[],o=i("a4bb"),r=i.n(o),s=i("5d73"),c=i.n(s),l=(i("60ae"),i("db0c")),p=i.n(l),u=i("0b6d"),m={name:"Topic",props:["topicKey"],components:{},beforeCreate:function(){this.$options.components.TopicComponentGroup=u["default"]},computed:{topic:function(){var t=this,e=this.$props.topicKey,i=this.$config.topics.filter(function(e){return e.key===t.$props.topicKey});if(1!==i.length)throw"Could not get single config object for topic '".concat(e,"'.");var a=i[0];return a},icon:function(){return this.topic.icon},isActive:function(){var t=this.topic.key,e=this.$store.state.activeTopic;return e===t},shouldShowHeader:function(){return this.$config.topics.length>1},dataSources:function(){return this.topic.dataSources||[]},hasData:function(){var t=this,e=this.dataSources.every(function(e){var i=t.$config.dataSources[e].targets;if(i){var a=t.$store.state.sources[e].targets,n=p()(a);return 0!==n.length&&n.every(function(t){return"waiting"!==t.status})}return!!t.$store.state.sources[e].data});return e},shouldShowBody:function(){var t="success"===this.status,e=this.hasData,i=t&&e&&this.isActive;return i},shouldShowTopic:function(){return!this.topic.showTopicOnlyIfDataExists||(!!this.showTopicBasedOnOtherData||this.showTopicOnlyIfDataExists)},shouldShowError:function(){var t=this.isActive&&("error"===this.status||"waiting"!==this.status&&!this.hasData);return t&&console.log("BINGO BINGO BINGO:",this.topicKey,"shouldShowError:",t,"status:",this.status,"hasData:",this.hasData),t},errorMessage:function(){return this.topic.errorMessage?this.topic.errorMessage(this.$store.state):"Could not locate records for that address."},status:{cache:!1,get:function(){var t,e=this,i=this.topic.dataSources||[];if(0===i.length)return"success";var a=i.map(function(t){var i=e.$config.dataSources[t].targets;if(i){var a=e.$store.state.sources[t].targets,n=p()(a);if(0===n.length)return;return n.map(function(t){return t.status})}return[e.$store.state.sources[t].status]}),n=[],o=!0,r=!1,s=void 0;try{for(var l,u=c()(a);!(o=(l=u.next()).done);o=!0){var m=l.value;if(m){var d=!0,h=!1,f=void 0;try{for(var _,v=c()(m);!(d=(_=v.next()).done);d=!0){var g=_.value;n.push(g)}}catch(y){h=!0,f=y}finally{try{d||null==v.return||v.return()}finally{if(h)throw f}}}}}catch(y){r=!0,s=y}finally{try{o||null==u.return||u.return()}finally{if(r)throw s}}return t=n.includes("waiting")?"waiting":n.includes("error")?"error":"success",t}},showTopicBasedOnOtherData:function(){if(!this.topic.showTopicBasedOnOtherData)return!1;var t=this.topic.showTopicBasedOnOtherData.requiredData,e=this.checkForData(t);if(!e)return!1;var i=r()(this.topic.showTopicBasedOnOtherData.otherData),a=[],n=!0,o=!1,s=void 0;try{for(var l,p=c()(i);!(n=(l=p.next()).done);n=!0){var u=l.value,m=this.topic.showTopicBasedOnOtherData.otherData[u],d=r()(m),h=!0,f=!1,_=void 0;try{for(var v,g=c()(d);!(h=(v=g.next()).done);h=!0){var y=v.value;this.$store.state.sources[u][y]===m[y]?a.push(!0):a.push(!1)}}catch(b){f=!0,_=b}finally{try{h||null==g.return||g.return()}finally{if(f)throw _}}}}catch(b){o=!0,s=b}finally{try{n||null==p.return||p.return()}finally{if(o)throw s}}return!a.includes(!1)},showTopicOnlyIfDataExists:function(){return this.checkForData(this.topic.showTopicOnlyIfDataExists)}},methods:{checkForData:function(t){var e=r()(t),i=!0,a=!0,n=!1,o=void 0;try{for(var s,l=c()(e);!(a=(s=l.next()).done);a=!0){var p=s.value,u=t[p].pathToDataArray,m=t[p].minDataLength,d=void 0;if(!this.$store.state.sources[p].data)return!1;u?1===u.length&&(d=this.$store.state.sources[p].data[u[0]]):d=this.$store.state.sources[p].data,d.length<m&&(i=!1)}}catch(h){n=!0,o=h}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}return i},configForBasemap:function(t){return this.$config.map.basemaps[t]},handleTopicHeaderClick:function(t){var e,i=this.$props.topicKey;i!==this.$store.state.activeTopic&&(e=i),this.$controller.handleTopicHeaderClick(e)}}},d=m,h=(i("01a2"),i("2877")),f=Object(h["a"])(d,a,n,!1,null,"0685c8f1",null);e["default"]=f.exports},fd1e:function(t,e,i){"use strict";var a=i("31c4"),n=i.n(a);n.a}});
//# sourceMappingURL=app.43f2e393.js.map